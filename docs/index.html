<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geophysics Final Project</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
        "lucide-react": "https://esm.sh/lucide-react@0.294.0"
      }
    }
    </script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script>
      tailwind.config = {
        theme: {
          extend: {
            animation: {
              'spin-slow': 'spin 8s linear infinite',
              'fade-in': 'fadeIn 1s ease-out forwards',
              'fade-in-down': 'fadeInDown 1s ease-out forwards',
              'fade-in-up': 'fadeInUp 1s ease-out forwards',
              'overlay-fade-out': 'overlayFadeOut 1.8s ease-in-out forwards',
              'title-reveal': 'titleReveal 1.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
              'icon-pulse': 'iconPulse 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards',
              'micro-shake-light': 'micro-shake-light 0.2s infinite linear',
              'screen-shake': 'screen-shake 0.5s ease-out',
              'crack-draw': 'draw-crack 1.2s ease-in forwards',
              'blast': 'blast-wave 1.2s cubic-bezier(0, 0.5, 0.5, 1) forwards',
              'flare': 'lens-flare-expand 0.8s ease-out forwards',
              'seismic-wave': 'seismic-ripple-linear linear infinite',
              'flashbang': 'flashbang 0.8s ease-out forwards',
              'debris': 'debris-scatter 2.5s cubic-bezier(0.1, 0.9, 0.2, 1) forwards',
              'core-pulse': 'core-pulse 2s infinite',
              'magma': 'magma-flow 2s linear infinite',
            },
            keyframes: {
               fadeIn: { '0%': { opacity: '0' }, '100%': { opacity: '1' } },
               fadeInDown: { '0%': { opacity: '0', transform: 'translateY(-20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
               fadeInUp: { '0%': { opacity: '0', transform: 'translateY(20px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } },
               overlayFadeOut: { '0%': { opacity: 1, 'pointer-events': 'auto' }, '70%': { opacity: 1 }, '100%': { opacity: 0, 'pointer-events': 'none' } },
               // ... å…¶ä»–é—œéµå½±æ ¼ç¨å¾®çœç•¥ï¼Œç‚ºäº†è®“ä½ èƒ½é †åˆ©åŸ·è¡Œï¼ŒTailwind çš„ JIT æ¨¡å¼æœƒè‡ªå‹•è™•ç†å¤§éƒ¨åˆ† class
            }
          }
        }
      }
    </script>
    
    <style>
      /* è£œå……å‹•ç•«æ¨£å¼ç¢ºä¿å®Œæ•´æ€§ */
      @keyframes overlayFadeOut { 0% { opacity: 1; pointer-events: auto; } 70% { opacity: 1; } 100% { opacity: 0; pointer-events: none; } }
      @keyframes titleReveal { 0% { transform: scale(0.8); opacity: 0; letter-spacing: 0.5em; filter: blur(10px); } 40% { transform: scale(1); opacity: 1; letter-spacing: 0.1em; filter: blur(0px); } 80% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0; transform: scale(1.1); } }
      @keyframes iconPulse { 0% { transform: scale(0.5); opacity: 0; } 30% { transform: scale(1.2); opacity: 1; } 50% { transform: scale(1); } 100% { transform: scale(3); opacity: 0; } }
      @keyframes micro-shake-light { 0%, 100% { transform: translate(0, 0); } 25% { transform: translate(1px, 0); } 50% { transform: translate(-1px, 0); } 75% { transform: translate(0, 1px); } }
      @keyframes shake-violent { 0% { transform: translate(0, 0); } 10% { transform: translate(-3px, 3px) rotate(-2deg); } 20% { transform: translate(2px, -4px) rotate(2deg); } 30% { transform: translate(-4px, 1px); } 40% { transform: translate(4px, 3px) rotate(-1deg); } 50% { transform: translate(-2px, -3px); } 60% { transform: translate(3px, 4px) rotate(2deg); } 70% { transform: translate(-4px, 2px); } 80% { transform: translate(4px, -2px) rotate(-2deg); } 90% { transform: translate(-2px, 3px); } 100% { transform: translate(0, 0); } }
      @keyframes screen-shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
      @keyframes draw-crack { from { stroke-dashoffset: 130; opacity: 0; filter: drop-shadow(0 0 0px orange); stroke-width: 0.5; } to { stroke-dashoffset: 0; opacity: 1; filter: drop-shadow(0 0 15px #f97316); stroke-width: 3.5; } }
      @keyframes blast-wave { 0% { transform: scale(0.8); opacity: 1; border-width: 60px; } 100% { transform: scale(4); opacity: 0; border-width: 0px; } }
      @keyframes lens-flare-expand { 0% { transform: scaleX(0) scaleY(1); opacity: 0; } 20% { transform: scaleX(2) scaleY(1.5); opacity: 1; } 100% { transform: scaleX(4) scaleY(0); opacity: 0; } }
      @keyframes seismic-ripple-linear { 0% { transform: scale(0.1); opacity: 0; border-width: 0px; } 5% { opacity: 1; border-width: 10px; } 100% { transform: scale(10); opacity: 0; border-width: 0px; } }
      @keyframes debris-scatter { 0% { transform: translate(0,0) rotate(0deg) scale(0); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) rotate(var(--r)) scale(var(--s)); opacity: 0; } }
      @keyframes star-fly { 0% { transform: scale(0) translate(0,0); opacity: 0; } 20% { opacity: 1; } 100% { transform: scale(4) translate(var(--sx), var(--sy)); opacity: 0; } }
      @keyframes flashbang { 0% { opacity: 1; } 100% { opacity: 0; } }
      @keyframes core-pulse { 0% { opacity: 0.3; transform: scale(0.9); filter: brightness(1); } 50% { opacity: 0.9; transform: scale(1.15); filter: brightness(1.5); } 100% { opacity: 0.3; transform: scale(0.9); filter: brightness(1); } }
      @keyframes magma-flow { 0% { stroke-dashoffset: 0; opacity: 0.8; } 50% { opacity: 1; filter: drop-shadow(0 0 5px #ef4444); } 100% { stroke-dashoffset: -20; opacity: 0.8; } }
      @keyframes text-reveal-cyber { 0% { opacity: 0; letter-spacing: 1em; filter: blur(10px); transform: scale(1.2); } 50% { opacity: 1; letter-spacing: 0.15em; filter: blur(0px); transform: scale(1); } 60% { opacity: 0.8; text-shadow: 2px 0 red, -2px 0 blue; } 70% { opacity: 1; text-shadow: none; } 100% { opacity: 1; letter-spacing: 0.2em; } }
      @keyframes micro-shake { 0% { transform: translate(0, 0); } 25% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -1px); } 75% { transform: translate(-1px, 1px); } 100% { transform: translate(1px, -1px); } }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 h-screen w-screen overflow-x-hidden">
    
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        // é€™è£¡ä¸€å®šè¦å¼•å…¥ createRoot
        import React, { useState, useEffect, useMemo } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
          Activity, Globe, ChevronLeft, BookOpen, BarChart2, ArrowRight, 
          Fingerprint, Hammer, Calculator, ClipboardList, Camera, Sigma, 
          PlayCircle, ImageOff, Ruler, PenTool, TrendingUp, X, Mountain, 
          MoveVertical, Cloud, Database, Info, Scale, Code, FileText, 
          Presentation, Compass, Thermometer, Map, ArrowUpRight, Layers,
          ExternalLink, Terminal, Monitor, Reply, Link, Calendar, Clock, Target, Zap,
          ArrowUp, Home, Magnet, Flame, Droplet, Wind
        } from 'lucide-react';

        // ===========================================
        import React, { useState, useEffect, useMemo } from 'react';
import { 
  Activity, Globe, ChevronLeft, BookOpen, BarChart2, ArrowRight, 
  Fingerprint, Hammer, Calculator, ClipboardList, Camera, Sigma, 
  PlayCircle, ImageOff, Ruler, PenTool, TrendingUp, X, Mountain, 
  MoveVertical, Cloud, Database, Info, Scale, Code, FileText, 
  Presentation, Compass, Thermometer, Map, ArrowUpRight, Layers,
  ExternalLink, Terminal, Monitor, Reply, Link, Calendar, Clock, Target, Zap,
  ArrowUp, Home, Magnet, Flame, Droplet, Wind
} from 'lucide-react';

// ============================================================
// 1. è¼”åŠ©çµ„ä»¶ (Helper Components)
// ============================================================

const MathFraction = ({ num, den }) => (
  <div className="inline-flex flex-col items-center align-middle mx-1.5" style={{ verticalAlign: 'middle' }}>
    <span className="border-b border-white/40 w-full text-center leading-tight pb-[2px] mb-[2px] text-lg font-serif italic">{num}</span>
    <span className="w-full text-center leading-tight text-lg font-serif italic">{den}</span>
  </div>
);

const FormulaBlock = ({ formula }) => (
  <div className="bg-white/5 border border-white/10 rounded-xl p-4 hover:bg-white/10 transition-all h-full flex flex-col justify-between group">
    <div>
      <div className="text-[10px] text-orange-400 uppercase tracking-widest mb-2 font-bold flex items-center gap-2">
        <Sigma size={12} />
        {formula.label}
      </div>
      <div className="text-lg text-white font-serif italic tracking-wide font-medium flex flex-wrap items-center min-h-[3rem]">
        {formula.math}
      </div>
    </div>
    <div className="text-[10px] text-slate-400 leading-relaxed border-t border-white/10 pt-2 mt-2 group-hover:text-slate-300 transition-colors">
      {formula.desc}
    </div>
  </div>
);

const ImageDisplay = ({ src, alt, className, style }) => {
  const [error, setError] = useState(false);
  const [loading, setLoading] = useState(true);
  return (
    <div className={`relative overflow-hidden ${className} bg-slate-800/50`}>
      {loading && !error && (
        <div className="absolute inset-0 flex items-center justify-center z-10 bg-slate-800/50 backdrop-blur-sm">
          <div className="w-6 h-6 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"></div>
        </div>
      )}
      {error ? (
        <div className="absolute inset-0 flex flex-col items-center justify-center text-slate-500 bg-slate-900 border border-slate-700/50">
          <ImageOff size={32} className="mb-2 opacity-50" />
          <span className="text-xs font-mono uppercase tracking-widest">Image Not Found</span>
        </div>
      ) : (
        <img 
          src={src} 
          alt={alt} 
          className={`w-full h-full object-cover transition-opacity duration-500 ${loading ? 'opacity-0' : 'opacity-100'}`} 
          style={style}
          onLoad={() => setLoading(false)} 
          onError={() => { setLoading(false); setError(true); }} 
          referrerPolicy="no-referrer" 
        />
      )}
    </div>
  );
};

// ============================================================
// 2. æ¨¡æ“¬å™¨çµ„ä»¶ (Simulators)
// ============================================================

const SeismicSimulation = () => {
  const [v1, setV1] = useState(500);
  const [v2, setV2] = useState(1200);
  const [h, setH] = useState(15);
  
  const safeV2 = Math.max(v2, v1 + 100);
  
  useEffect(() => { 
    if (v1 >= v2) setV2(v1 + 100); 
  }, [v1, v2]);

  const criticalAngleRad = Math.asin(Math.min(1, v1 / safeV2));
  const xCross = (2 * h * Math.sqrt((safeV2 + v1) / (safeV2 - v1))).toFixed(1);

  const svgWidth = 600; const svgHeight = 350; 
  const scaleX = 4; const scaleY = 5; 
  const startX = 80; const surfaceY = 60; 
  const interfaceY = surfaceY + h * scaleY;
  const criticalDistX = h * Math.tan(criticalAngleRad);
  const A = { x: startX + criticalDistX * scaleX, y: interfaceY };
  
  const arcRadius = 35;
  const arcEndNormalX = A.x;
  const arcEndNormalY = A.y - arcRadius;
  const arcStartRayX = A.x - arcRadius * Math.sin(criticalAngleRad);
  const arcStartRayY = A.y - arcRadius * Math.cos(criticalAngleRad);
  const arcPath = `M ${arcStartRayX} ${arcStartRayY} A ${arcRadius} ${arcRadius} 0 0 1 ${arcEndNormalX} ${arcEndNormalY}`;

  const txWidth = 500;
  const txHeight = 400; 
  const maxDist = 120;
  const maxTime = 0.15; 
  
  const mapX = (val) => (val / maxDist) * txWidth;
  const mapY = (val) => txHeight - (val / maxTime) * txHeight;

  const t_direct_end = maxDist / v1;
  const p_direct_end = { x: mapX(maxDist), y: mapY(t_direct_end) };

  const ti = (2 * h * Math.sqrt(safeV2**2 - v1**2)) / (v1 * safeV2);
  const t_refracted_start = ti; 
  const t_refracted_end = maxDist / safeV2 + ti;
  const p_refracted_start = { x: mapX(0), y: mapY(t_refracted_start) };
  const p_refracted_end = { x: mapX(maxDist), y: mapY(t_refracted_end) };

  const xcr_val = parseFloat(xCross);
  const tcr_val = xcr_val / v1;
  const p_xcr = { x: mapX(xcr_val), y: mapY(tcr_val) };
  const showXcr = xcr_val <= maxDist && tcr_val <= maxTime;

  return (
    <div className="bg-slate-900 rounded-3xl border border-white/10 overflow-hidden shadow-2xl mt-8">
      <div className="bg-slate-800/50 p-6 border-b border-white/10 flex justify-between items-center">
        <h3 className="text-xl font-bold text-white flex items-center gap-3"><Activity className="text-pink-500" /> éœ‡æ¸¬æ³¢å ´æ¨¡æ“¬</h3>
        <div className="flex gap-4">
           <div className="px-3 py-1 rounded bg-black/30 border border-white/5 text-sm font-mono text-pink-400">Ti: {(ti*1000).toFixed(1)} ms</div>
           <div className="px-3 py-1 rounded bg-black/30 border border-white/5 text-sm font-mono text-yellow-400">Xcr: {xCross} m</div>
        </div>
      </div>
      <div className="grid grid-cols-1 lg:grid-cols-12">
        <div className="lg:col-span-3 bg-slate-800/30 p-6 border-r border-white/10 flex flex-col gap-6">
           <div className="space-y-2">
             <label className="text-xs text-slate-400">Layer 1 Velocity (Vâ‚)</label>
             <input type="range" min="300" max="2000" step="50" value={v1} onChange={(e)=>setV1(Number(e.target.value))} className="w-full accent-pink-500"/>
             <div className="text-right text-xs font-mono text-pink-400">{v1} m/s</div>
           </div>
           <div className="space-y-2">
             <label className="text-xs text-slate-400">Layer 2 Velocity (Vâ‚‚)</label>
             <input type="range" min="500" max="3000" step="50" value={safeV2} onChange={(e)=>setV2(Math.max(Number(e.target.value), v1+100))} className="w-full accent-blue-500"/>
             <div className="text-right text-xs font-mono text-blue-400">{safeV2} m/s</div>
           </div>
           <div className="space-y-2">
             <label className="text-xs text-slate-400">Depth (h)</label>
             <input type="range" min="5" max="50" step="1" value={h} onChange={(e)=>setH(Number(e.target.value))} className="w-full accent-orange-500"/>
             <div className="text-right text-xs font-mono text-orange-400">{h} m</div>
           </div>
        </div>
        <div className="lg:col-span-9 p-6 flex flex-col gap-4 bg-[#0b1121]">
           <div className="relative w-full h-64 bg-slate-900 rounded-xl border border-white/10 overflow-hidden">
             <svg width="100%" height="100%" viewBox={`0 0 ${svgWidth} ${svgHeight}`} preserveAspectRatio="xMidYMid slice">
                <defs><marker id="seismic-arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" fill="white" /></marker></defs>
                <rect x="0" y={surfaceY} width={svgWidth} height={h*scaleY} fill="#334155" opacity="0.3" />
                <rect x="0" y={interfaceY} width={svgWidth} height={Math.max(0, svgHeight-interfaceY)} fill="#1e293b" opacity="0.5" />
                <line x1={0} y1={surfaceY} x2={svgWidth} y2={surfaceY} stroke="#94a3b8" strokeWidth="2" strokeDasharray="5 5" opacity="0.7" />
                <text x={svgWidth - 10} y={surfaceY - 10} fill="#94a3b8" fontSize="12" textAnchor="end">Surface (Ground)</text>
                <line x1={0} y1={interfaceY} x2={svgWidth} y2={interfaceY} stroke="white" strokeWidth="1" strokeDasharray="4 2" />
                <text x={svgWidth - 20} y={surfaceY + 20} fill="#fca5a5" fontSize="14" fontWeight="bold" textAnchor="end" opacity="0.8">Layer 1 (Vâ‚)</text>
                <text x={svgWidth - 20} y={interfaceY + 30} fill="#93c5fd" fontSize="14" fontWeight="bold" textAnchor="end" opacity="0.8">Layer 2 (Vâ‚‚)</text>
                <line x1={startX} y1={surfaceY} x2={startX} y2={interfaceY} stroke="#fb923c" strokeWidth="1.5" strokeDasharray="4 2" />
                <text x={startX - 10} y={(surfaceY + interfaceY) / 2} fill="#fb923c" fontSize="14" fontWeight="bold" dominantBaseline="middle" textAnchor="end">h</text>
                <line x1={A.x} y1={interfaceY} x2={A.x} y2={surfaceY + 10} stroke="white" strokeWidth="0.5" strokeDasharray="2 2" opacity="0.5" />
                <circle cx={startX} cy={surfaceY} r="6" fill="#f59e0b" stroke="white" strokeWidth="1" />
                <text x={startX} y={surfaceY-15} fill="#f59e0b" fontSize="14" fontWeight="bold" textAnchor="middle">S</text>
                <circle cx={startX + parseFloat(xCross)*scaleX} cy={surfaceY} r="4" fill="#ef4444" />
                <text x={startX + parseFloat(xCross)*scaleX} y={surfaceY-15} fill="#ef4444" fontSize="12" fontWeight="bold" textAnchor="middle">Xcr</text>
                <path d={`M${startX},${surfaceY} L${A.x},${A.y} L${A.x + (parseFloat(xCross)*scaleX - 2 * criticalDistX*scaleX)},${interfaceY} L${startX + parseFloat(xCross)*scaleX},${surfaceY}`} stroke="#ec4899" strokeWidth="2" fill="none" markerEnd="url(#seismic-arrowhead)" />
                <path d={arcPath} stroke="white" strokeWidth="1" fill="none" opacity="0.8" />
                <text x={A.x - 10} y={A.y - 45} fill="white" fontSize="10">Î¸c</text>
             </svg>
           </div>
           <div className="relative w-full h-80 bg-slate-900 rounded-xl border border-white/10 p-4">
              <svg width="100%" height="100%" viewBox={`0 0 ${txWidth} ${txHeight}`} preserveAspectRatio="none" className="overflow-visible">
                 <line x1="0" y1={txHeight} x2={txWidth} y2={txHeight} stroke="#94a3b8" strokeWidth="2" />
                 <line x1="0" y1={txHeight} x2="0" y2="0" stroke="#94a3b8" strokeWidth="2" />
                 <text x="10" y="20" fill="#94a3b8" fontSize="12" fontWeight="bold">Time (s)</text>
                 <text x={txWidth - 10} y={txHeight - 10} fill="#94a3b8" fontSize="12" fontWeight="bold" textAnchor="end">Distance (m)</text>
                 <line x1="0" y1={txHeight} x2={p_direct_end.x} y2={p_direct_end.y} stroke="#3b82f6" strokeWidth="3" />
                 <text x={p_direct_end.x - 10} y={p_direct_end.y - 10} fill="#3b82f6" fontSize="12">Direct (1/Vâ‚)</text>
                 <line x1="0" y1={p_refracted_start.y} x2={p_refracted_end.x} y2={p_refracted_end.y} stroke="#ec4899" strokeWidth="1.5" strokeDasharray="4 2" opacity="0.5" />
                 <line x1="0" y1={p_refracted_start.y} x2={p_refracted_end.x} y2={p_refracted_end.y} stroke="#ec4899" strokeWidth="3" />
                 <text x={p_refracted_end.x - 10} y={p_refracted_end.y - 10} fill="#ec4899" fontSize="12">Refracted (1/Vâ‚‚)</text>
                 <circle cx="0" cy={p_refracted_start.y} r="4" fill="#ec4899" stroke="white" strokeWidth="1" />
                 <text x="10" y={p_refracted_start.y} fill="#ec4899" fontSize="14" fontWeight="bold" dominantBaseline="middle">Ti</text>
                 {showXcr && (
                    <g>
                      <line x1={p_xcr.x} y1={p_xcr.y} x2={p_xcr.x} y2={txHeight} stroke="#fbbf24" strokeWidth="1" strokeDasharray="3 3" />
                      <circle cx={p_xcr.x} cy={p_xcr.y} r="6" fill="#fbbf24" stroke="white" strokeWidth="2" />
                      <text x={p_xcr.x} y={p_xcr.y - 15} fill="#fbbf24" fontSize="14" fontWeight="bold" textAnchor="middle">Xcr</text>
                    </g>
                 )}
              </svg>
           </div>
        </div>
      </div>
    </div>
  );
};

const FACSimulation = () => {
  const [h, setH] = useState(1000);
  const fac = 0.3086 * h;
  const groundY = 220;
  const peakY = groundY - (h * 0.05);

  return (
    <div className="bg-[#0f172a] rounded-2xl border border-white/10 overflow-hidden mt-6">
      <div className="p-6 border-b border-white/10">
        <h4 className="text-lg font-bold text-emerald-400 mb-1 flex items-center gap-2">
          <Mountain size={18} /> 1. è‡ªç”±ç©ºé–“æ ¡æ­£ (FAC) æ¨¡æ“¬
        </h4>
        <p className="text-xs text-slate-400">Free Air Correction: ä¿®æ­£ã€Œé«˜åº¦ã€å°é‡åŠ›çš„å½±éŸ¿</p>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2">
        <div className="p-8 flex flex-col justify-center gap-8 border-r border-white/5">
          <div className="space-y-4">
            <div className="flex justify-between text-sm text-slate-300 font-medium">
              <span>â†• æ¸¬ç«™é«˜åº¦ (h)</span>
              <span className="font-mono text-emerald-400">{h} m</span>
            </div>
            <input type="range" min="0" max="3000" step="50" value={h} onChange={(e) => setH(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500" />
            <p className="text-[10px] text-slate-500">é«˜åº¦è¶Šé«˜ï¼Œé›¢åœ°å¿ƒè¶Šé ï¼Œé‡åŠ›è§€æ¸¬å€¼è¶Šå°ï¼Œéœ€é€²è¡Œ FAC æ ¡æ­£ (+)ã€‚</p>
          </div>
          <div className="bg-slate-800/50 rounded-xl p-4 border border-white/5 space-y-3">
             <div className="flex justify-between text-xs text-slate-400 border-b border-white/5 pb-2">
               <span>FAC Formula:</span>
               <span className="font-mono">0.3086 Ã— h</span>
             </div>
             <div className="flex justify-between items-baseline">
               <span className="text-sm font-bold text-emerald-400">FAC Value:</span>
               <span className="text-2xl font-mono font-bold text-white">+{fac.toFixed(1)} <span className="text-xs text-slate-500">mGal</span></span>
             </div>
          </div>
          <div className="bg-emerald-900/20 border border-emerald-500/20 rounded-lg p-3 text-xs text-slate-300 leading-relaxed">
            <strong className="text-emerald-400 block mb-1">ğŸ’¡ ç‚ºä»€éº¼è¦åŠ  (+)?</strong>
            å› ç‚ºåœ¨å±±ä¸Š (h &gt; 0) é›¢åœ°å¿ƒè¼ƒé ï¼Œå¼•åŠ›è¼ƒå°ã€‚ç‚ºäº†æŠŠæ¸¬ç«™é‡åŠ›å€¼ã€Œé‚„åŸã€åˆ°æµ·å¹³é¢ï¼Œå¿…é ˆè£œä¸Šæå¤±çš„å¼•åŠ›ã€‚
          </div>
        </div>
        <div className="bg-[#0b1121] p-6 relative overflow-hidden flex items-end justify-center">
           <div className="absolute top-4 left-4 px-2 py-1 bg-white/5 border border-white/5 rounded text-[10px] text-slate-500">SIDE VIEW</div>
           <svg width="100%" height="250" viewBox="0 0 400 250">
             <defs>
               <linearGradient id="mtnGradient" x1="0" y1="0" x2="0" y2="1">
                 <stop offset="0%" stopColor="#10b981" stopOpacity="0.8"/>
                 <stop offset="100%" stopColor="#064e3b" stopOpacity="0.9"/>
               </linearGradient>
             </defs>
             <line x1="0" y1={groundY} x2="400" y2={groundY} stroke="#3b82f6" strokeWidth="1" strokeDasharray="4 2" />
             <text x="10" y={groundY-5} fill="#3b82f6" fontSize="10">Sea Level</text>
             <path d={`M 50 ${groundY} L 200 ${peakY} L 350 ${groundY} Z`} fill="url(#mtnGradient)" />
             <circle cx="200" cy={peakY} r="4" fill="#fbbf24" stroke="white" strokeWidth="2" />
             <text x="210" y={peakY} fill="#fbbf24" fontSize="12" fontWeight="bold">Station</text>
             <line x1="200" y1={peakY+5} x2="200" y2={groundY} stroke="#fbbf24" strokeWidth="1" strokeDasharray="2 2" />
             <text x="205" y={(peakY+groundY)/2} fill="white" fontSize="10" opacity="0.5">h</text>
           </svg>
        </div>
      </div>
    </div>
  );
};

const BCSimulation = () => {
  const [h, setH] = useState(1000);
  const [rho, setRho] = useState(2.67);
  const bc = 0.0419 * rho * h;
  const groundY = 220;
  const slabTop = groundY - (h * 0.05);

  return (
    <div className="bg-[#0f172a] rounded-2xl border border-white/10 overflow-hidden mt-6">
      <div className="p-6 border-b border-white/10">
        <h4 className="text-lg font-bold text-orange-400 mb-1 flex items-center gap-2">
          <Layers size={18} /> 2. å¸ƒæ ¼æ ¡æ­£ (BC) æ¨¡æ“¬
        </h4>
        <p className="text-xs text-slate-400">Bouguer Correction: ä¿®æ­£ã€Œå¤šé¤˜å²©çŸ³è³ªé‡ã€çš„å½±éŸ¿</p>
      </div>
      <div className="grid grid-cols-1 md:grid-cols-2">
        <div className="p-8 flex flex-col justify-center gap-8 border-r border-white/5">
          <div className="space-y-4">
            <div className="flex justify-between text-sm text-slate-300 font-medium">
              <span>æ¸¬ç«™é«˜åº¦ (h)</span>
              <span className="font-mono text-orange-400">{h} m</span>
            </div>
            <input type="range" min="0" max="2000" step="50" value={h} onChange={(e) => setH(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-orange-500" />
          </div>

          <div className="space-y-4">
            <div className="flex justify-between text-sm text-slate-300 font-medium">
              <span>å²©çŸ³å¯†åº¦ (Ï)</span>
              <span className="font-mono text-pink-400">{rho} g/cmÂ³</span>
            </div>
            <input type="range" min="2.0" max="3.5" step="0.01" value={rho} onChange={(e) => setRho(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-pink-500" />
          </div>

          <div className="bg-slate-800/50 rounded-xl p-4 border border-white/5 space-y-3">
             <div className="flex justify-between text-xs text-slate-400 border-b border-white/5 pb-2">
               <span>BC Formula:</span>
               <span className="font-mono">0.0419 Ã— Ï Ã— h</span>
             </div>
             <div className="flex justify-between items-baseline">
               <span className="text-sm font-bold text-orange-400">BC Value:</span>
               <span className="text-2xl font-mono font-bold text-white">-{bc.toFixed(1)} <span className="text-xs text-slate-500">mGal</span></span>
             </div>
          </div>

          <div className="bg-orange-900/20 border border-orange-500/20 rounded-lg p-3 text-xs text-slate-300 leading-relaxed">
            <strong className="text-orange-400 block mb-1">ğŸ’¡ ç‚ºä»€éº¼è¦æ¸› (-)?</strong>
            å› ç‚ºæ¸¬ç«™ä¸‹æ–¹æœ‰ä¸€å¤§å¡Šå²©çŸ³ (å¹³æ¿) åœ¨å¸å¼•ä½ ï¼Œå°è‡´é‡åŠ›è™›å¢ã€‚BC å°±æ˜¯è¦æŠŠé€™å¡Šå¤šé¤˜çš„å¼•åŠ›ã€Œæ‰£æ‰ã€ã€‚
          </div>
        </div>

        <div className="bg-[#0b1121] p-6 relative overflow-hidden flex items-end justify-center">
           <div className="absolute top-4 left-4 px-2 py-1 bg-white/5 border border-white/5 rounded text-[10px] text-slate-500">MODEL VIEW</div>
           <svg width="100%" height="250" viewBox="0 0 400 250">
             <line x1="0" y1={groundY} x2="400" y2={groundY} stroke="#3b82f6" strokeWidth="1" strokeDasharray="4 2" />
             <text x="10" y={groundY+15} fill="#3b82f6" fontSize="10">Sea Level</text>
             <rect x="0" y={slabTop} width="400" height={groundY - slabTop} fill="#c2410c" opacity="0.4" />
             <line x1="0" y1={slabTop} x2="400" y2={slabTop} stroke="#fb923c" strokeWidth="1" />
             <text x="200" y={(slabTop+groundY)/2} fill="#fb923c" fontSize="12" textAnchor="middle" fontWeight="bold">Infinite Slab (Ï)</text>
             <circle cx="200" cy={slabTop} r="4" fill="white" stroke="white" strokeWidth="2" />
             <text x="210" y={slabTop-10} fill="white" fontSize="12">Station</text>
           </svg>
        </div>
      </div>
    </div>
  );
};

const InterpretationSimulation = () => {
  const [dRho, setDRho] = useState(1.0);
  
  const points = [];
  for(let x = 0; x <= 400; x+=10) {
    const y = 100 - (50 * dRho * Math.exp(-Math.pow((x-200)/60, 2)));
    points.push(`${x},${y}`);
  }
  const polylinePoints = points.join(" ");
  const isPositive = dRho > 0;

  return (
    <div className="bg-[#0f172a] rounded-2xl border border-white/10 overflow-hidden mt-6">
      <div className="p-6 border-b border-white/10">
        <h4 className="text-lg font-bold text-purple-400 mb-1 flex items-center gap-2">
          <Scale size={18} /> 3. å¸ƒæ ¼ç•°å¸¸è§£é‡‹ (Interpretation)
        </h4>
        <p className="text-xs text-slate-400">Bouguer Anomaly: è§£è®€åœ°ä¸‹æ§‹é€ çš„ã€Œè—å¯¶åœ–ã€</p>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2">
        <div className="p-8 flex flex-col justify-center gap-8 border-r border-white/5">
          <div className="space-y-4">
            <div className="flex justify-between text-sm text-slate-300 font-medium">
              <span>å¯†åº¦å·®ç•° (Î”Ï)</span>
              <span className={`font-mono ${isPositive ? 'text-red-400' : 'text-blue-400'}`}>{dRho > 0 ? '+' : ''}{dRho}</span>
            </div>
            <input type="range" min="-1" max="1" step="0.1" value={dRho} onChange={(e) => setDRho(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500" />
            <p className="text-[10px] text-slate-500">æ­£å€¼(+)ï¼šç¤¦é«” (æ­£ç•°å¸¸) | è² å€¼(-)ï¼šæ´ç©´/é¹½ä¸˜ (è² ç•°å¸¸)</p>
          </div>

          <div className={`rounded-xl p-4 border border-white/5 transition-colors ${isPositive ? 'bg-red-900/20 border-red-500/20' : 'bg-blue-900/20 border-blue-500/20'}`}>
             <h5 className={`text-sm font-bold mb-2 ${isPositive ? 'text-red-300' : 'text-blue-300'}`}>
               {isPositive ? 'æ­£ç•°å¸¸ (Positive Anomaly)' : 'è² ç•°å¸¸ (Negative Anomaly)'}
             </h5>
             <p className="text-xs text-slate-300 leading-relaxed">
               {isPositive 
                 ? 'ç™¼ç¾ï¼šåœ°ä¸‹æœ‰ã€Œè³ªé‡éå‰©ã€(Mass Excess) çš„ç‰©é«”ã€‚å¯èƒ½ç‚ºé«˜å¯†åº¦é‡‘å±¬ç¤¦åºŠã€åŸºæ€§ç«æˆå²©ä¾µå…¥æˆ–èƒŒæ–œæ§‹é€ ã€‚' 
                 : 'ç™¼ç¾ï¼šåœ°ä¸‹æœ‰ã€Œè³ªé‡è™§æã€(Mass Deficiency) çš„ç‰©é«”ã€‚å¯èƒ½ç‚ºå²©é¹½åœ“é ‚ã€æ²‰ç©ç›†åœ°ã€åœ°ä¸‹ç©ºæ´æˆ–å‘æ–œæ§‹é€ ã€‚'}
             </p>
          </div>
        </div>

        <div className="bg-[#0b1121] p-6 relative overflow-hidden flex flex-col">
           <div className="absolute top-4 left-4 px-2 py-1 bg-white/5 border border-white/5 rounded text-[10px] text-slate-500">GRAVITY PROFILE</div>
           <div className="h-32 w-full border-b border-white/10 mb-4 relative">
             <svg width="100%" height="100%" viewBox="0 0 400 120" className="overflow-visible">
               <line x1="0" y1="100" x2="400" y2="100" stroke="#334155" strokeDasharray="2 2" />
               <text x="5" y="95" fill="#475569" fontSize="10">0 mGal (Background)</text>
               <polyline points={polylinePoints} fill="none" stroke={isPositive ? "#ef4444" : "#3b82f6"} strokeWidth="2" />
             </svg>
           </div>
           <div className="flex-1 relative flex items-center justify-center">
             <div className="absolute top-0 left-4 px-2 py-1 bg-white/5 border border-white/5 rounded text-[10px] text-slate-500">CROSS SECTION</div>
             <div 
                className={`w-16 h-16 rounded-full transition-colors duration-500 shadow-[0_0_30px_rgba(0,0,0,0.5)] ${isPositive ? 'bg-red-600 shadow-red-900/50' : 'bg-blue-600 shadow-blue-900/50'}`}
                style={{ transform: `scale(${0.5 + Math.abs(dRho)})` }}
             ></div>
           </div>
        </div>
      </div>
    </div>
  );
};

const HeatFlowCalculator = () => {
  const [gradient, setGradient] = useState(30); // C/km
  const [conductivity, setConductivity] = useState(2.5); // W/mK
  const heatFlow = gradient * conductivity; // mW/m^2

  return (
    <div className="bg-[#0f172a] rounded-2xl border border-white/10 overflow-hidden mt-6 shadow-2xl">
      <div className="p-6 border-b border-white/10 bg-gradient-to-r from-orange-900/30 to-red-900/30">
        <h4 className="text-lg font-bold text-orange-400 mb-1 flex items-center gap-2">
          <Flame size={18} /> 4. åœ°æ®¼ç†±æµè¨ˆç®— (Heat Flow Calculation)
        </h4>
        <p className="text-xs text-slate-400">å‚…ç«‹è‘‰ç†±å‚³å°å®šå¾‹ (Fourier's Law): q = -k (dT/dz)</p>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2">
        <div className="p-8 flex flex-col justify-center gap-8 border-r border-white/5">
          <div className="space-y-6">
            <div className="space-y-2">
              <div className="flex justify-between text-sm text-slate-300 font-medium">
                <span className="flex items-center gap-2"><Thermometer size={14} className="text-red-400"/> æº«åº¦æ¢¯åº¦ (dT/dz)</span>
                <span className="font-mono text-red-400">{gradient} Â°C/km</span>
              </div>
              <input type="range" min="10" max="100" step="1" value={gradient} onChange={(e) => setGradient(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-red-500" />
              <p className="text-[10px] text-slate-500">ä¸€èˆ¬å¤§é™¸åœ°æ®¼ç´„ 30Â°C/kmï¼Œç«å±±å€å¯é” 100Â°C/kmã€‚</p>
            </div>
            <div className="space-y-2">
              <div className="flex justify-between text-sm text-slate-300 font-medium">
                <span className="flex items-center gap-2"><Layers size={14} className="text-blue-400"/> ç†±å°ç‡ (k)</span>
                <span className="font-mono text-blue-400">{conductivity} W/(mÂ·K)</span>
              </div>
              <input type="range" min="1.0" max="5.0" step="0.1" value={conductivity} onChange={(e) => setConductivity(Number(e.target.value))} className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-500" />
              <p className="text-[10px] text-slate-500">å²©çŸ³å‚³å°ç†±çš„èƒ½åŠ›ã€‚çŸ³è‹±è±å¯Œçš„å²©çŸ³è¼ƒé«˜ï¼Œå­”éš™å¤šçš„æ²‰ç©å²©è¼ƒä½ã€‚</p>
            </div>
          </div>
        </div>

        <div className="bg-[#0b1121] p-6 relative flex flex-col items-center justify-center gap-4">
           <div className="relative w-48 h-48 rounded-full border-4 border-white/10 flex items-center justify-center bg-slate-900 shadow-[0_0_50px_rgba(249,115,22,0.1)]">
             <div className="absolute inset-0 rounded-full opacity-20 animate-pulse" style={{ backgroundColor: `rgb(249, 115, 22)`, transform: `scale(${0.8 + (heatFlow/250)})` }}></div>
             <div className="text-center z-10">
               <div className="text-4xl font-black text-white font-mono tracking-tighter">{heatFlow.toFixed(0)}</div>
               <div className="text-xs text-orange-400 uppercase tracking-widest font-bold mt-1">mW/mÂ²</div>
             </div>
           </div>
           <div className="text-center space-y-2 max-w-xs">
             <div className={`text-sm font-bold px-3 py-1 rounded-full inline-block border ${heatFlow > 100 ? 'bg-red-500/20 border-red-500 text-red-300' : heatFlow < 50 ? 'bg-blue-500/20 border-blue-500 text-blue-300' : 'bg-green-500/20 border-green-500 text-green-300'}`}>
               {heatFlow > 100 ? 'é«˜ç†±æµå€ (High Heat Flow)' : heatFlow < 50 ? 'ä½ç†±æµå€ (Low Heat Flow)' : 'å¹³å‡ç†±æµ (Average)'}
             </div>
             <p className="text-[10px] text-slate-400 leading-relaxed">
               {heatFlow > 100 ? 'å¯èƒ½ä½æ–¼ï¼šä¸­æ´‹è„Šã€å³¶å¼§ç«å±±å¸¶æˆ–åœ°ç†±ç•°å¸¸å€ã€‚' : heatFlow < 50 ? 'å¯èƒ½ä½æ–¼ï¼šå¤è€ç©©å®šçš„å…‹æ‹‰é€š (Craton) æˆ–æµ·æºå†·æ¿å¡Šéš±æ²’å¸¶ã€‚' : 'æ¥è¿‘å…¨çƒå¹³å‡å€¼ (ç´„ 87 mW/mÂ²)ã€‚'}
             </p>
           </div>
        </div>
      </div>
    </div>
  );
};

const PaleoMagCalculator = () => {
  const [inclination, setInclination] = useState(45); // Magnetic Inclination (I)
  
  const toRad = (deg) => deg * Math.PI / 180;
  const toDeg = (rad) => rad * 180 / Math.PI;
  
  const latitude = toDeg(Math.atan(0.5 * Math.tan(toRad(inclination))));
  
  const radius = 80;
  const center = { x: 150, y: 150 };
  const latRad = toRad(-latitude); 
  const pos = {
    x: center.x + radius * Math.cos(latRad),
    y: center.y + radius * Math.sin(latRad)
  };
  
  const arrowLen = 40;
  const incRad = toRad(inclination + latitude);

  return (
    <div className="bg-[#0f172a] rounded-2xl border border-white/10 overflow-hidden mt-6 shadow-2xl">
      <div className="p-6 border-b border-white/10 bg-gradient-to-r from-red-900/30 to-rose-900/30">
        <h4 className="text-lg font-bold text-rose-400 mb-1 flex items-center gap-2">
          <Compass size={18} /> å¤ç·¯åº¦è¨ˆç®—æ©Ÿ (Paleolatitude Calculator)
        </h4>
        <p className="text-xs text-slate-400">é©—è­‰å…¬å¼ï¼štan(I) = 2 tan(Î»)</p>
      </div>
      
      <div className="grid grid-cols-1 md:grid-cols-2">
        <div className="p-8 flex flex-col justify-center gap-8 border-r border-white/5">
          <div className="space-y-6">
            <div className="space-y-2">
              <div className="flex justify-between text-sm text-slate-300 font-medium">
                <span className="flex items-center gap-2"><Magnet size={14} className="text-rose-400"/> ç£å‚¾è§’ (Inclination, I)</span>
                <span className="font-mono text-rose-400">{inclination}Â°</span>
              </div>
              <input 
                type="range" 
                min="-90" 
                max="90" 
                step="1" 
                value={inclination} 
                onChange={(e) => setInclination(Number(e.target.value))} 
                className="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-rose-500" 
              />
              <div className="flex justify-between text-[10px] text-slate-500 font-mono">
                <span>-90Â° (South Pole)</span>
                <span>0Â° (Equator)</span>
                <span>+90Â° (North Pole)</span>
              </div>
            </div>

            <div className="bg-slate-800/50 rounded-xl p-5 border border-white/5 space-y-4">
               <div className="flex justify-between items-center border-b border-white/5 pb-3">
                 <span className="text-xs text-slate-400">è¨ˆç®—å…¬å¼</span>
                 <span className="font-serif italic text-white text-sm">Î» = arctan(Â½ tan I)</span>
               </div>
               <div className="flex justify-between items-baseline">
                 <span className="text-sm font-bold text-blue-400">æ¨ç®—å¤ç·¯åº¦ (Latitude):</span>
                 <div className="flex flex-col items-end">
                   <span className="text-3xl font-mono font-bold text-white transition-all duration-300">{latitude.toFixed(1)}Â°</span>
                   <span className="text-[10px] text-slate-400 uppercase tracking-widest">{latitude > 0 ? 'North' : latitude < 0 ? 'South' : 'Equator'}</span>
                 </div>
               </div>
            </div>

            <div className="bg-rose-900/20 border border-rose-500/20 rounded-lg p-3 text-xs text-slate-300 leading-relaxed">
              <strong className="text-rose-400 block mb-1">ğŸ’¡ ç‰©ç†æ„ç¾©</strong>
              ç•¶æˆ‘å€‘æ¸¬é‡å²©çŸ³ä¸­çš„ç£å‚¾è§’ (I) æ™‚ï¼Œæˆ‘å€‘å¯¦éš›ä¸Šæ˜¯åœ¨è®€å–è©²å²©çŸ³å½¢æˆæ™‚ï¼Œè·é›¢ç•¶æ™‚ç£åŒ—æ¥µæœ‰å¤šé ã€‚é€™è®“æˆ‘å€‘èƒ½é‡å»ºå¤§é™¸æ¿å¡Šåœ¨æ•¸å„„å¹´å‰çš„ä½ç½®ã€‚
            </div>
          </div>
        </div>

        <div className="bg-[#0b1121] p-6 relative flex items-center justify-center">
           <svg width="300" height="300" viewBox="0 0 300 300">
             <defs>
               <radialGradient id="earthGrad" cx="50%" cy="50%" r="50%">
                 <stop offset="0%" stopColor="#1e293b" />
                 <stop offset="100%" stopColor="#0f172a" />
               </radialGradient>
               <marker id="arrowHead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                 <polygon points="0 0, 10 3.5, 0 7" fill="#fb7185" />
               </marker>
             </defs>
             
             <circle cx="150" cy="150" r="80" fill="url(#earthGrad)" stroke="#334155" strokeWidth="2" />
             <line x1="70" y1="150" x2="230" y2="150" stroke="#334155" strokeWidth="1" strokeDasharray="4 2" />
             <line x1="150" y1="70" x2="150" y2="230" stroke="#334155" strokeWidth="1" strokeDasharray="4 2" />
             
             <path d="M 150 50 Q 250 150 150 250" fill="none" stroke="#3b82f6" strokeWidth="1" opacity="0.2" />
             <path d="M 150 50 Q 50 150 150 250" fill="none" stroke="#3b82f6" strokeWidth="1" opacity="0.2" />

             <line x1="150" y1="150" x2={pos.x} y2={pos.y} stroke="white" strokeWidth="1" opacity="0.5" />
             <circle cx={pos.x} cy={pos.y} r="4" fill="#fb7185" stroke="white" strokeWidth="2" />
             
             <path d={`M ${pos.x},${pos.y} L ${pos.x + (arrowLen * Math.cos(toRad(-latitude)) * (inclination >=0 ? 1 : -1))},${pos.y + (arrowLen * Math.sin(toRad(-latitude))* (inclination >=0 ? 1 : -1))}`} stroke="white" strokeWidth="1" strokeDasharray="2 2" opacity="0.5" />
             
             <g transform={`translate(${pos.x}, ${pos.y}) rotate(${-latitude})`}>
                <line x1="0" y1="0" x2="40" y2="0" stroke="white" strokeWidth="1" strokeDasharray="2 2" opacity="0.5" />
                <line x1="0" y1="0" x2={40 * Math.cos(toRad(inclination))} y2={40 * Math.sin(toRad(inclination))} stroke="#fb7185" strokeWidth="3" markerEnd="url(#arrowHead)" />
                <path d={`M 15 0 A 15 15 0 0 ${inclination > 0 ? 1 : 0} ${15 * Math.cos(toRad(inclination))} ${15 * Math.sin(toRad(inclination))}`} stroke="#fb7185" fill="none" opacity="0.8" />
             </g>

             <text x="150" y="40" fill="#94a3b8" fontSize="10" textAnchor="middle">N (Magnetic Pole)</text>
             <text x="240" y="150" fill="#94a3b8" fontSize="10" textAnchor="start">Equator</text>
             <text x="150" y="270" fill="#94a3b8" fontSize="10" textAnchor="middle">S</text>
           </svg>
        </div>
      </div>
    </div>
  );
};

// 2.6 å…¨çƒç†±æµåœ°åœ–ç¤ºæ„ - ç¿»æ–°äº’å‹•ç‰ˆ
const GlobalHeatFlowMap = () => {
  const [selectedZone, setSelectedZone] = useState('ridge');

  const zoneInfo = {
    ridge: {
      title: 'ä¸­æ´‹è„Š (Mid-Ocean Ridge)',
      heat: 'High (~150+ mW/mÂ²)',
      desc: 'æ¿å¡Šå¼µè£‚è™•ï¼Œé«˜æº«å²©æ¼¿ç›´æ¥ä¸Šæ¹§ï¼Œå½¢æˆå…¨çƒæœ€ä¸»è¦çš„æ•£ç†±çª—å£ã€‚æ–°ç”Ÿçš„æµ·æ´‹åœ°æ®¼åœ¨æ­¤èª•ç”Ÿã€‚',
      color: 'text-red-400',
      bg: 'bg-red-500/10 border-red-500/30'
    },
    ocean: {
      title: 'æµ·æ´‹åœ°æ®¼ (Oceanic Crust)',
      heat: 'Medium (~100 mW/mÂ²)',
      desc: 'éš¨è‘—æ¿å¡Šé é›¢ä¸­æ´‹è„Šï¼Œåœ°æ®¼é€æ¼¸å†·å»ã€è®Šåšä¸”ä¸‹æ²‰ã€‚ç†±æµéš¨å¹´é½¡å¢åŠ è€ŒæŒ‡æ•¸è¡°æ¸›ã€‚',
      color: 'text-yellow-400',
      bg: 'bg-yellow-500/10 border-yellow-500/30'
    },
    trench: {
      title: 'éš±æ²’å¸¶ (Subduction Zone)',
      heat: 'Low (<50 mW/mÂ²)',
      desc: 'å†·è€Œè€çš„æµ·æ´‹æ¿å¡Šåœ¨æ­¤éš±æ²’å…¥åœ°å‡½ï¼Œå¸æ”¶å‘¨åœç†±é‡ï¼Œå½¢æˆä¸€æ¢æ˜é¡¯çš„ä½ç†±æµå¸¶ (Cold Anomaly)ã€‚',
      color: 'text-blue-400',
      bg: 'bg-blue-500/10 border-blue-500/30'
    },
    craton: {
      title: 'å¤§é™¸å…‹æ‹‰é€š (Craton)',
      heat: 'Stable (~65 mW/mÂ²)',
      desc: 'å¤è€ä¸”ç©©å®šçš„å¤§é™¸æ ¸å¿ƒï¼Œåœ°æ®¼æ¥µåšã€‚å…¶ç†±æµä¸»è¦ä¾†è‡ªå²©çŸ³å…§éƒ¨æ”¾å°„æ€§å…ƒç´  (U, Th, K) çš„è¡°è®Šï¼Œè€Œéåœ°å‡½ç†±å°æµã€‚',
      color: 'text-emerald-400',
      bg: 'bg-emerald-500/10 border-emerald-500/30'
    }
  };

  return (
    <div className="bg-slate-900 rounded-2xl overflow-hidden border border-white/10 relative mt-6 flex flex-col md:flex-row">
      {/* Visual Area */}
      <div className="flex-1 relative bg-[#050914] min-h-[300px] p-6 flex items-center justify-center">
         <div className="absolute top-4 left-4 z-10 px-3 py-1.5 bg-black/70 backdrop-blur-md rounded-lg border border-white/10 text-xs text-white font-bold flex items-center gap-2">
            <Globe size={14} className="text-blue-400"/> Interactive Heat Flow Profile
         </div>
         
         <svg viewBox="0 0 600 300" className="w-full h-full max-h-[300px] overflow-visible">
            <defs>
              <linearGradient id="mantle-gradient" x1="0" y1="0" x2="0" y2="1">
                <stop offset="0%" stopColor="#f97316" stopOpacity="0.8" />
                <stop offset="100%" stopColor="#7c2d12" stopOpacity="1" />
              </linearGradient>
              <filter id="glow-heat"><feGaussianBlur stdDeviation="3" result="coloredBlur"/><feMerge><feMergeNode in="coloredBlur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
            </defs>

            {/* Mantle */}
            <rect x="0" y="200" width="600" height="100" fill="url(#mantle-gradient)" />
            
            {/* 1. Craton (Left) */}
            <g onClick={() => setSelectedZone('craton')} className="cursor-pointer group">
              <path d="M 0 160 L 150 160 L 150 200 L 0 200 Z" fill="#334155" stroke="#94a3b8" strokeWidth="2" />
              <text x="75" y="150" fill="white" fontSize="12" textAnchor="middle" opacity="0.6" className="group-hover:opacity-100 transition-opacity">Continent</text>
              {selectedZone === 'craton' && <rect x="0" y="160" width="150" height="40" fill="white" opacity="0.1" />}
            </g>

            {/* 2. Subduction (Trench) */}
            <g onClick={() => setSelectedZone('trench')} className="cursor-pointer group">
               <path d="M 150 200 L 200 280 L 220 280 L 180 200 Z" fill="#1e3a8a" opacity="0.6" />
               <circle cx="150" cy="200" r="10" fill="none" stroke={selectedZone === 'trench' ? '#60a5fa' : 'transparent'} strokeWidth="2" className="animate-pulse" />
            </g>

            {/* 3. Ocean Crust (Cooling) */}
            <g onClick={() => setSelectedZone('ocean')} className="cursor-pointer group">
               <path d="M 150 200 L 400 180 L 400 200 L 150 200 Z" fill="#1e40af" stroke="#60a5fa" strokeWidth="1" />
               {selectedZone === 'ocean' && <path d="M 150 200 L 400 180 L 400 200 L 150 200 Z" fill="white" opacity="0.1" />}
               <text x="280" y="170" fill="#93c5fd" fontSize="10" textAnchor="middle" opacity="0.6">Ocean Crust</text>
            </g>

            {/* 4. Mid-Ocean Ridge (Hot) */}
            <g onClick={() => setSelectedZone('ridge')} className="cursor-pointer group">
               <path d="M 400 180 Q 450 160 500 180 L 500 200 L 400 200 Z" fill="#ef4444" stroke="#fca5a5" strokeWidth="2" filter="url(#glow-heat)" />
               <path d="M 450 200 L 450 170" stroke="white" strokeWidth="2" strokeDasharray="4 2" className="animate-pulse" />
               <circle cx="450" cy="170" r="6" fill="#fbbf24" />
               <text x="450" y="150" fill="#fca5a5" fontSize="12" textAnchor="middle" fontWeight="bold">Ridge</text>
               {selectedZone === 'ridge' && <circle cx="450" cy="170" r="20" fill="none" stroke="#fbbf24" strokeWidth="2" className="animate-ping" />}
            </g>

             {/* 5. Ocean Crust (Right) */}
             <g onClick={() => setSelectedZone('ocean')} className="cursor-pointer">
               <path d="M 500 180 L 600 200 L 600 200 L 500 200 Z" fill="#1e40af" stroke="#60a5fa" strokeWidth="1" />
             </g>

             {/* Heat Flow Arrows */}
             <path d="M 75 220 L 75 180" stroke="#10b981" strokeWidth="2" markerEnd="url(#arrow)" opacity="0.5" />
             <path d="M 450 250 L 450 190" stroke="#ef4444" strokeWidth="4" markerEnd="url(#arrow)" opacity="0.8" />
             <defs><marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,6 L9,3 z" fill="white" /></marker></defs>
         </svg>
      </div>

      {/* Info Panel */}
      <div className={`w-full md:w-64 p-6 border-t md:border-t-0 md:border-l border-white/10 flex flex-col justify-center transition-colors duration-500 ${zoneInfo[selectedZone].bg}`}>
         <div className={`text-xs font-bold uppercase tracking-widest mb-2 ${zoneInfo[selectedZone].color}`}>Selected Region</div>
         <h3 className="text-xl font-bold text-white mb-1">{zoneInfo[selectedZone].title}</h3>
         <div className="text-sm font-mono text-slate-300 mb-4 bg-black/20 px-2 py-1 rounded inline-block">Heat Flow: {zoneInfo[selectedZone].heat}</div>
         <p className="text-sm text-slate-300 leading-relaxed font-light">{zoneInfo[selectedZone].desc}</p>
         <div className="mt-6 flex gap-2">
            {Object.keys(zoneInfo).map(key => (
               <button 
                 key={key}
                 onClick={() => setSelectedZone(key)}
                 className={`w-2 h-2 rounded-full transition-all ${selectedZone === key ? 'bg-white scale-150' : 'bg-white/30 hover:bg-white/50'}`}
               />
            ))}
         </div>
      </div>
    </div>
  );
};

// ============================================================
// 3. æ¨™é¡Œè½‰å ´èˆ‡å‹•ç•«çµ„ä»¶ (Animations)
// ============================================================

const TitleTransitionOverlay = ({ topic }) => {
  if (!topic) return null;
  return (
    <div className="fixed inset-0 z-[200] flex items-center justify-center bg-[#0f172a] text-slate-100 animate-overlay-fade-out pointer-events-none">
      <style>{`
        @keyframes overlayFadeOut { 0% { opacity: 1; pointer-events: auto; } 70% { opacity: 1; } 100% { opacity: 0; pointer-events: none; } }
        @keyframes titleReveal { 0% { transform: scale(0.8); opacity: 0; letter-spacing: 0.5em; filter: blur(10px); } 40% { transform: scale(1); opacity: 1; letter-spacing: 0.1em; filter: blur(0px); } 80% { opacity: 1; transform: scale(1.05); } 100% { opacity: 0; transform: scale(1.1); } }
        @keyframes iconPulse { 0% { transform: scale(0.5); opacity: 0; } 30% { transform: scale(1.2); opacity: 1; } 50% { transform: scale(1); } 100% { transform: scale(3); opacity: 0; } }
        @keyframes micro-shake-light { 0%, 100% { transform: translate(0, 0); } 25% { transform: translate(1px, 0); } 50% { transform: translate(-1px, 0); } 75% { transform: translate(0, 1px); } }
        .animate-overlay-fade-out { animation: overlayFadeOut 1.8s ease-in-out forwards; }
        .animate-title-reveal { animation: titleReveal 1.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards; }
        .animate-icon-pulse { animation: iconPulse 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards; }
        .animate-micro-shake-light { animation: micro-shake-light 0.2s infinite linear; }
      `}</style>
      <div className="relative flex flex-col items-center justify-center gap-8">
        <div className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] rounded-full bg-gradient-to-r ${topic.color} blur-[120px] opacity-20 animate-pulse`}></div>
        <div className="relative z-10 p-6 rounded-full bg-white/5 border border-white/10 shadow-2xl animate-icon-pulse">
           {React.cloneElement(topic.icon, { size: 80, className: "text-white" })}
        </div>
        <div className="text-center z-10 space-y-4 animate-title-reveal">
          <h2 className="text-3xl md:text-5xl font-black tracking-widest text-white animate-micro-shake-light drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]">{topic.title}</h2>
          <div className="h-[1px] w-24 mx-auto bg-gradient-to-r from-transparent via-white to-transparent opacity-50"></div>
          <p className="text-lg font-mono text-blue-300 tracking-[0.3em] uppercase">{topic.subtitle}</p>
        </div>
      </div>
    </div>
  );
};

const IntroAnimation = ({ onComplete }) => {
  const [stage, setStage] = useState('idle');
  useEffect(() => {
    const timer1 = setTimeout(() => setStage('cracking'), 800);
    const timer2 = setTimeout(() => setStage('splitting'), 1800); 
    const timer3 = setTimeout(() => { setStage('fading'); setTimeout(onComplete, 1500); }, 5000); 
    return () => { clearTimeout(timer1); clearTimeout(timer2); clearTimeout(timer3); };
  }, [onComplete]);

  const debris = useMemo(() => {
    return [...Array(35)].map((_, i) => ({
      id: i, d: `M0,0 L${Math.random()*5+2},${Math.random()*5-2} L${Math.random()*6},${Math.random()*6+3} L${-Math.random()*3},${Math.random()*4} Z`,
      tx: (Math.random() - 0.5) * 350, ty: (Math.random() - 0.5) * 350, r: Math.random() * 1440, delay: Math.random() * 0.1,
      scale: Math.random() * 1.0 + 0.3, color: i % 3 === 0 ? '#fca5a5' : (i % 3 === 1 ? '#fdba74' : '#94a3b8'), opacity: Math.random() * 0.5 + 0.5
    }));
  }, []);

  const jaggedPath = "M50,0 L45,15 L55,25 L48,40 L54,50 L46,65 L55,75 L48,90 L50,100";
  
  const EarthVisuals = () => (
    <>
      <circle cx="50" cy="50" r="50" fill="#172554" /> 
      <circle cx="50" cy="50" r="50" fill="url(#ocean-gradient)" />
      <g fill="#10b981" filter="url(#land-glow)">
        <path d="M28,15 C25,18 15,22 18,30 C19,33 24,35 26,42 C27,45 25,48 28,55 C30,62 35,70 32,80 C30,85 28,88 32,92 L35,85 C38,75 42,65 38,55 C36,50 32,45 35,35 C38,30 42,20 35,15 Z" />
        <path d="M45,12 C55,8 70,8 80,15 C85,20 92,25 85,35 C82,40 75,42 78,50 C80,55 82,65 75,75 C70,80 65,75 60,65 C55,60 52,55 55,45 C58,40 60,35 50,30 C45,25 42,20 45,12 Z" />
        <path d="M75,75 C80,72 88,75 90,82 C92,85 85,88 80,85 C78,82 75,80 75,75 Z" />
        <path d="M35,8 L40,6 L42,10 L38,12 Z" opacity="0.8" />
      </g>
      <g fill="#34d399" opacity="0.3">
          <path d="M30,25 C32,28 35,30 32,40 L30,45" stroke="#34d399" strokeWidth="0.5" fill="none"/>
          <path d="M60,20 C65,25 70,22 75,30" stroke="#34d399" strokeWidth="0.5" fill="none"/>
      </g>
      <g stroke="white" strokeWidth="1.5" strokeLinecap="round" opacity="0.4" filter="url(#cloud-blur)">
        <path d="M20,30 Q35,25 50,30 T80,25" />
        <path d="M60,80 Q75,85 90,75" />
        <path d="M10,55 Q25,50 40,55" />
        <path d="M70,40 Q80,35 90,40" />
      </g>
      <circle cx="50" cy="50" r="50" fill="url(#sphere-gradient)" opacity="0.6" style={{ mixBlendMode: 'overlay' }} />
      <circle cx="50" cy="50" r="50" fill="url(#atmosphere-glow)" opacity="0.5" />
    </>
  );

  return (
    <div className={`fixed inset-0 z-[100] flex items-center justify-center bg-[#0f172a] transition-opacity duration-1000 ${stage === 'fading' ? 'opacity-0 pointer-events-none' : 'opacity-100'}`}>
      <div className={`absolute inset-0 z-[101] pointer-events-none ${(stage === 'splitting' || stage === 'fading') ? 'animate-screen-shake' : ''}`}>
        <div className={`absolute inset-0 bg-white animate-flashbang ${stage === 'splitting' ? 'block' : 'hidden'}`}></div>
      </div>
      <style>{`
        @keyframes shake-violent { 0% { transform: translate(0, 0); } 10% { transform: translate(-3px, 3px) rotate(-2deg); } 20% { transform: translate(2px, -4px) rotate(2deg); } 30% { transform: translate(-4px, 1px); } 40% { transform: translate(4px, 3px) rotate(-1deg); } 50% { transform: translate(-2px, -3px); } 60% { transform: translate(3px, 4px) rotate(2deg); } 70% { transform: translate(-4px, 2px); } 80% { transform: translate(4px, -2px) rotate(-2deg); } 90% { transform: translate(-2px, 3px); } 100% { transform: translate(0, 0); } }
        @keyframes screen-shake { 0%, 100% { transform: translateX(0); } 10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); } 20%, 40%, 60%, 80% { transform: translateX(5px); } }
        @keyframes draw-crack { from { stroke-dashoffset: 130; opacity: 0; filter: drop-shadow(0 0 0px orange); stroke-width: 0.5; } to { stroke-dashoffset: 0; opacity: 1; filter: drop-shadow(0 0 15px #f97316); stroke-width: 3.5; } }
        @keyframes blast-wave { 0% { transform: scale(0.8); opacity: 1; border-width: 60px; } 100% { transform: scale(4); opacity: 0; border-width: 0px; } }
        @keyframes lens-flare-expand { 0% { transform: scaleX(0) scaleY(1); opacity: 0; } 20% { transform: scaleX(2) scaleY(1.5); opacity: 1; } 100% { transform: scaleX(4) scaleY(0); opacity: 0; } }
        @keyframes seismic-ripple-linear { 0% { transform: scale(0.1); opacity: 0; border-width: 0px; } 5% { opacity: 1; border-width: 10px; } 100% { transform: scale(10); opacity: 0; border-width: 0px; } }
        @keyframes debris-scatter { 0% { transform: translate(0,0) rotate(0deg) scale(0); opacity: 1; } 100% { transform: translate(var(--tx), var(--ty)) rotate(var(--r)) scale(var(--s)); opacity: 0; } }
        @keyframes star-fly { 0% { transform: scale(0) translate(0,0); opacity: 0; } 20% { opacity: 1; } 100% { transform: scale(4) translate(var(--sx), var(--sy)); opacity: 0; } }
        @keyframes flashbang { 0% { opacity: 1; } 100% { opacity: 0; } }
        @keyframes core-pulse { 0% { opacity: 0.3; transform: scale(0.9); filter: brightness(1); } 50% { opacity: 0.9; transform: scale(1.15); filter: brightness(1.5); } 100% { opacity: 0.3; transform: scale(0.9); filter: brightness(1); } }
        @keyframes magma-flow { 0% { stroke-dashoffset: 0; opacity: 0.8; } 50% { opacity: 1; filter: drop-shadow(0 0 5px #ef4444); } 100% { stroke-dashoffset: -20; opacity: 0.8; } }
        @keyframes text-reveal-cyber { 0% { opacity: 0; letter-spacing: 1em; filter: blur(10px); transform: scale(1.2); } 50% { opacity: 1; letter-spacing: 0.15em; filter: blur(0px); transform: scale(1); } 60% { opacity: 0.8; text-shadow: 2px 0 red, -2px 0 blue; } 70% { opacity: 1; text-shadow: none; } 100% { opacity: 1; letter-spacing: 0.2em; } }
        @keyframes micro-shake { 0% { transform: translate(0, 0); } 25% { transform: translate(1px, 1px); } 50% { transform: translate(-1px, -1px); } 75% { transform: translate(-1px, 1px); } 100% { transform: translate(1px, -1px); } }
        .animate-shake { animation: shake-violent 0.1s linear infinite; }
        .animate-screen-shake { animation: screen-shake 0.5s ease-out; }
        .animate-crack-draw { stroke-dasharray: 130; stroke-dashoffset: 130; animation: draw-crack 1.2s ease-in forwards; }
        .animate-blast { animation: blast-wave 1.2s cubic-bezier(0, 0.5, 0.5, 1) forwards; }
        .animate-flare { animation: lens-flare-expand 0.8s ease-out forwards; }
        .animate-seismic-wave { animation: seismic-ripple-linear linear infinite; }
        .animate-flashbang { animation: flashbang 0.8s ease-out forwards; }
        .animate-debris { animation: debris-scatter 2.5s cubic-bezier(0.1, 0.9, 0.2, 1) forwards; }
        .animate-core-pulse { animation: core-pulse 2s infinite; }
        .animate-magma { animation: magma-flow 2s linear infinite; }
        .particle { position: absolute; width: var(--size); height: var(--size); background: var(--color); border-radius: 50%; animation: debris-scatter var(--duration) cubic-bezier(0, 0.9, 0.57, 1) forwards; box-shadow: 0 0 10px var(--color); }
        .star-streak { position: absolute; width: 2px; height: 60px; background: linear-gradient(to bottom, transparent, white, transparent); animation: star-fly 1s ease-out infinite; }
        .flare-streak { background: linear-gradient(to right, transparent, rgba(200, 230, 255, 1), white, rgba(200, 230, 255, 1), transparent); box-shadow: 0 0 40px rgba(100, 200, 255, 0.9); filter: blur(2px); }
        .creative-text { font-family: 'Courier New', monospace; font-weight: 900; letter-spacing: 0.2em; white-space: nowrap; color: white; text-shadow: 0 0 10px rgba(59, 130, 246, 0.8), 0 0 20px rgba(59, 130, 246, 0.5); position: relative; }
      `}</style>
      <svg width="0" height="0"><defs><radialGradient id="sphere-gradient" cx="35%" cy="35%" r="65%"><stop offset="0%" stopColor="white" stopOpacity="0.3" /><stop offset="100%" stopColor="black" stopOpacity="0.7" /></radialGradient><radialGradient id="ocean-gradient" cx="50%" cy="50%" r="50%"><stop offset="0%" stopColor="#3b82f6" stopOpacity="1" /><stop offset="80%" stopColor="#1e3a8a" stopOpacity="1" /><stop offset="100%" stopColor="#0f172a" stopOpacity="1" /></radialGradient><filter id="land-glow"><feGaussianBlur in="SourceGraphic" stdDeviation="0.3" /><feDropShadow dx="0" dy="0" stdDeviation="1.5" floodColor="#34d399" floodOpacity="0.4" /></filter><filter id="cloud-blur"><feGaussianBlur in="SourceGraphic" stdDeviation="2" /></filter><radialGradient id="atmosphere-glow" cx="50%" cy="50%" r="50%"><stop offset="85%" stopColor="transparent" /><stop offset="100%" stopColor="#60a5fa" stopOpacity="0.6" /></radialGradient><radialGradient id="core-magma"><stop offset="0%" stopColor="#fef08a" /><stop offset="40%" stopColor="#f97316" /><stop offset="100%" stopColor="#dc2626" /></radialGradient></defs></svg>
      <div className="relative flex items-center justify-center w-full h-full overflow-hidden">
        {(stage === 'splitting' || stage === 'fading') && <div className="absolute inset-0 z-0">{[...Array(40)].map((_, i) => (<div key={i} className="star-streak" style={{ left: `${Math.random() * 100}%`, top: `${Math.random() * 100}%`, '--sx': `${(Math.random() - 0.5) * 1000}px`, '--sy': `${(Math.random() - 0.5) * 1000}px`, animationDelay: `${Math.random() * 0.3}s`, transform: `rotate(${Math.random() * 360}deg)` }}></div>))}</div>}
        {(stage === 'splitting' || stage === 'fading') && (<><div className="absolute inset-0 flex items-center justify-center pointer-events-none z-50"><div className="w-[200%] h-6 flare-streak animate-flare"></div><div className="absolute w-[600px] h-[600px] bg-blue-500 rounded-full blur-[150px] animate-pulse opacity-20 mix-blend-screen"></div></div><div className="absolute w-[800px] h-[800px] rounded-full border-white animate-blast" style={{ borderColor: 'rgba(255,255,255,0.9)', zIndex: 0, borderWidth: '100px' }}></div><div className="absolute w-[600px] h-[600px] rounded-full border-blue-300 animate-blast" style={{ borderColor: 'rgba(147, 197, 253, 0.7)', zIndex: 0, animationDelay: '0.05s', borderWidth: '50px' }}></div><div className="absolute w-[400px] h-[400px] rounded-full border-orange-400 animate-blast" style={{ borderColor: 'rgba(251, 146, 60, 0.5)', zIndex: 0, animationDelay: '0.1s', borderWidth: '20px' }}></div><div className="absolute inset-0 flex items-center justify-center z-0">{[0, 1, 2, 3, 4, 5].map((i) => (<div key={`p-wave-${i}`} className="absolute w-32 h-32 rounded-full border-[4px] border-yellow-300/80 animate-seismic-wave" style={{ animationDuration: '2.5s', animationDelay: `${i * 0.3}s`, boxShadow: '0 0 25px rgba(250, 204, 21, 0.5)' }}></div>))}{[0, 1, 2, 3, 4, 5, 6].map((i) => (<div key={`s-wave-${i}`} className="absolute w-32 h-32 rounded-full border-[6px] border-red-500/80 animate-seismic-wave" style={{ animationDuration: '3.5s', animationDelay: `${0.1 + i * 0.5}s`, boxShadow: '0 0 30px rgba(239, 68, 68, 0.5)' }}></div>))}</div>{[...Array(60)].map((_, i) => { const angle = (i / 60) * 2 * Math.PI; const dist = 600 + Math.random() * 400; return (<div key={i} className="particle" style={{ '--tx': `${Math.cos(angle) * dist}px`, '--ty': `${Math.sin(angle) * dist}px`, '--size': `${Math.random() * 8 + 2}px`, '--color': Math.random() > 0.7 ? '#FCD34D' : '#F87171', '--duration': `${0.5 + Math.random() * 1}s`, animationDelay: `${Math.random() * 0.1}s` }}></div>); })}</>)}
        <div className={`relative w-96 h-96 transition-transform duration-75 ${stage === 'cracking' ? 'animate-shake' : ''} z-10`}>
          <div className={`absolute inset-0 flex items-center justify-center transition-all duration-300 ${(stage === 'splitting' || stage === 'fading') ? 'opacity-100 scale-100' : 'opacity-0 scale-50'}`}><div className="w-[700px] h-[700px] bg-red-600/40 rounded-full blur-[120px] animate-pulse"></div><div className="absolute w-96 h-96 bg-gradient-to-r from-orange-500 to-red-600 rounded-full blur-[80px] animate-core-pulse"></div><div className="absolute w-64 h-64 bg-white rounded-full shadow-[0_0_150px_rgba(255,200,100,1)] animate-pulse"></div></div>
          {(stage === 'splitting' || stage === 'fading') && (<div className="absolute inset-0 flex items-center justify-center pointer-events-none"><svg viewBox="-50 -50 100 100" className="w-full h-full overflow-visible">{debris.map((d) => (<path key={d.id} d={d.d} fill={d.color} fillOpacity={d.opacity} stroke="rgba(0,0,0,0.3)" strokeWidth="0.5" className="animate-debris" style={{ '--tx': `${d.tx}px`, '--ty': `${d.ty}px`, '--r': `${d.r}deg`, '--s': `${d.scale}`, animationDelay: `${d.delay}s` }} />))}</svg></div>)}
          {(stage === 'idle' || stage === 'cracking') && (<div className="absolute inset-0"><svg viewBox="0 0 100 100" className="w-full h-full drop-shadow-[0_0_50px_rgba(59,130,246,0.4)]"><EarthVisuals />{stage === 'cracking' && (<><path d={jaggedPath} fill="none" stroke="#f59e0b" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="animate-crack-draw" style={{ filter: 'drop-shadow(0 0 5px #f59e0b)' }} /><path d={jaggedPath} fill="none" stroke="white" strokeWidth="0.5" strokeLinecap="round" strokeLinejoin="round" className="animate-crack-draw" style={{ animationDelay: '0.1s' }} /></>)}</svg></div>)}
          {(stage === 'splitting' || stage === 'fading') && (<><div className="absolute inset-0 transition-transform duration-[3s] cubic-bezier(0.1, 0.9, 0.2, 1) -translate-x-28 -translate-y-6 -rotate-[10deg] scale-95"><svg viewBox="0 0 100 100" className="w-full h-full drop-shadow-2xl"><defs><clipPath id="clip-left-split"><path d={`${jaggedPath} L 0 100 L 0 0 Z`} /></clipPath></defs><g clipPath="url(#clip-left-split)"><EarthVisuals /><path d={jaggedPath} fill="none" stroke="#fca5a5" strokeWidth="4" className="animate-magma" /><path d={jaggedPath} fill="none" stroke="white" strokeWidth="1" opacity="0.5" /></g></svg></div><div className="absolute inset-0 transition-transform duration-[3s] cubic-bezier(0.1, 0.9, 0.2, 1) translate-x-28 translate-y-6 rotate-[10deg] scale-95"><svg viewBox="0 0 100 100" className="w-full h-full drop-shadow-2xl"><defs><clipPath id="clip-right-split"><path d={`${jaggedPath} L 100 100 L 100 0 Z`} /></clipPath></defs><g clipPath="url(#clip-right-split)"><EarthVisuals /><path d={jaggedPath} fill="none" stroke="#fca5a5" strokeWidth="4" className="animate-magma" /><path d={jaggedPath} fill="none" stroke="white" strokeWidth="1" opacity="0.5" /></g></svg></div></>)}
        </div>
        <div className={`absolute bottom-12 w-full text-center z-20 transition-all duration-500 ${(stage === 'splitting' || stage === 'fading') ? 'opacity-100' : 'opacity-0'}`}><h2 className="text-2xl md:text-4xl creative-text" data-text="EXPLORING GEOPHYSICS" style={{ animation: `${(stage === 'splitting' || stage === 'fading') ? 'text-reveal-cyber 1s cubic-bezier(0.1, 0.8, 0.2, 1) forwards' : 'none'}, micro-shake 0.1s infinite` }}>EXPLORING GEOPHYSICS</h2><div className={`h-[2px] bg-gradient-to-r from-transparent via-blue-400 to-transparent w-full mt-6 transition-all duration-[1s] delay-200 ${(stage === 'splitting' || stage === 'fading') ? 'max-w-lg opacity-80' : 'max-w-0 opacity-0'} mx-auto shadow-[0_0_10px_#60a5fa]`}></div></div>
      </div>
    </div>
  );
}


// ============================================================
// 4. ä¸»è¦æ‡‰ç”¨ç¨‹å¼çµ„ä»¶ (Main App)
// ============================================================

export default function App() {
  const [selectedTopic, setSelectedTopic] = useState(null);
  const [transitionTopic, setTransitionTopic] = useState(null);
  const [isAnimating, setIsAnimating] = useState(false);
  const [showIntro, setShowIntro] = useState(true);
  const [targetSectionId, setTargetSectionId] = useState(null);

  const topics = [
    {
      id: 'seismic-experiment',
      title: 'éœ‡æ¸¬æ¢å‹˜å¯¦é©—',
      subtitle: 'Field Experiment',
      icon: <Hammer size={40} />,
      color: 'from-yellow-500 to-orange-600',
      description: 'å¯¦åœ°æ“ä½œæŠ˜å°„éœ‡æ¸¬ï¼Œåˆ©ç”¨äººå·¥éœ‡æºèˆ‡æª¢æ³¢å™¨é™£åˆ—ï¼Œè§£æåœ°ä¸‹å²©å±¤é€Ÿåº¦èˆ‡åšåº¦ã€‚',
      content: {
        intro: 'æœ¬æ¬¡å¯¦é©—æ¡ç”¨ã€ŒæŠ˜å°„éœ‡æ¸¬æ³•ã€ï¼Œé€éäººå·¥éŒ˜æ“Šéœ‡æºç”¢ç”Ÿå½ˆæ€§æ³¢ï¼Œä¸¦åˆ©ç”¨24é“æª¢æ³¢å™¨é™£åˆ—æ¥æ”¶åœ°è¡¨æŒ¯å‹•è¨Šè™Ÿã€‚è—‰ç”±åˆ†æç›´é”æ³¢èˆ‡è‡¨ç•ŒæŠ˜å°„æ³¢çš„èµ°æ™‚æ›²ç·šï¼Œæ¨ç®—å‡ºåœ°ä¸‹æ·ºå±¤çš„åœ°è³ªæ§‹é€ ã€æ³¢é€Ÿåˆ†å±¤èˆ‡ç¬¬ä¸€å±¤åšåº¦ã€‚',
        details: [
          { title: 'å¯¦é©—åŸç† (Principles)', text: 'åˆ©ç”¨æ³¢åœ¨ä¸åŒä»‹è³ªé€Ÿåº¦å·®ç•°ç”¢ç”Ÿçš„æŠ˜å°„ç¾è±¡ã€‚ç•¶å…¥å°„è§’é”è‡¨ç•Œè§’(Critical Angle)æ™‚ï¼Œèƒ½é‡æœƒæ²¿è‘—ä»‹é¢å‚³æ’­ä¸¦ç”¢ç”Ÿé ­æ³¢(Head Wave)å‚³å›åœ°è¡¨ï¼Œè—‰æ­¤è¨ˆç®—åœ°å±¤é€Ÿåº¦ã€‚', width: 'full' },
          { title: 'é—œéµå…¬å¼è©³è§£ (Key Formulas)', text: '', isFormula: true, width: 'full', formulas: [ { label: 'é€Ÿåº¦å…¬å¼ (Velocity)', math: <div className="flex items-center">v = <MathFraction num="x" den="t" /> â‡’ t = <MathFraction num="x" den="v" /></div>, desc: 'è¨ˆç®—æ³¢é€Ÿçš„åŸºæœ¬å®šç¾©ï¼šä½ç§»é™¤ä»¥æ™‚é–“ã€‚' }, { label: 'ä¸‰è§’æ†ç­‰å¼ (Trigonometry)', math: <div className="flex items-center">sinÂ²Î¸ + cosÂ²Î¸ = 1</div>, desc: 'åœ¨æ¨å°æŠ˜å°„è·¯å¾‘æ™‚å¸¸ç”¨çš„å¹¾ä½•é—œä¿‚ã€‚' }, { label: 'æ­£åˆ‡å®šç¾© (Tangent)', math: <div className="flex items-center">tanÎ¸ = <MathFraction num="sinÎ¸" den="cosÎ¸" /></div>, desc: 'ç”¨æ–¼è¨ˆç®—æ³¢å‚³éè§’åº¦çš„å¹¾ä½•é—œä¿‚ã€‚' }, { label: 'è‡¨ç•Œè§’èˆ‡æŠ˜å°„ (Critical Angle)', math: (<div className="flex items-center">cos(Î¸c) = âˆš<span className="text-2xl leading-none mx-1">(</span>1 - (<MathFraction num="Vâ‚" den="Vâ‚‚" />)Â²<span className="text-2xl leading-none mx-1">)</span></div>), desc: 'ç•¶å…¥å°„è§’ç‚ºè‡¨ç•Œè§’æ™‚ï¼ŒæŠ˜å°„æ³¢æ²¿ç•Œé¢å‚³æ’­ã€‚' } ] },
          { title: 'å¯¦é©—å™¨æ (Equipment)', text: '', width: 'full', equipmentList: [ { id: 1, name: 'é›»è…¦ (Computer)', desc: 'å³æ™‚é¡¯ç¤ºæ³¢å½¢æ•¸æ“šï¼Œä¾›ç ”ç©¶å“¡ç›£æ§é›œè¨Šèˆ‡æ•²æ“ŠåŠ›é“æ˜¯å¦è¶³å¤ ã€‚' }, { id: 2, name: 'è³‡æ–™è¨˜éŒ„å™¨ (Data Logger)', desc: 'æ ¸å¿ƒæ¨ç´ã€‚å°‡é¡æ¯”è¨Šè™Ÿæ•¸ä½åŒ–ä¸¦å‚³è¼¸è‡³é›»è…¦ã€‚' }, { id: 3, name: 'é»ƒè‰²æ²å°º (Tape Measure)', desc: 'æ¸¬é‡å®šä½ï¼Œç¢ºä¿æ¯æ”¯æª¢æ³¢å™¨é–“è·ç²¾æº–ç‚º2å…¬å°ºã€‚' }, { id: 4, name: 'æ¸¬ç·šé›»çºœ (Cable)', desc: 'æ©˜è‰²è¨Šè™Ÿå‚³è¼¸ä¸»å¹¹ï¼Œå…·å‚™è—è‰²æ¥å£ï¼Œè² è²¬å°‡24é“æª¢æ³¢å™¨çš„è¨Šè™Ÿå½™æ•´å›å‚³ã€‚' }, { id: 5, name: 'æª¢æ³¢å™¨ (Geophones)', desc: 'ç´…è‰²æ¢é‡éœ€ç”¨åŠ›è¸©å…¥æ³¥åœŸä»¥æ„Ÿæ¸¬åœ°è¡¨éœ‡å‹•ã€‚' }, { id: 6, name: 'è§¸ç™¼æ„Ÿæ‡‰å™¨ (Trigger)', desc: 'ç™½è‰²ç´°ç·šé€£æ¥é»ƒè‰²å°æ–¹å¡Šæ„Ÿæ‡‰å™¨ã€‚ç½®æ–¼é‹¼æ¿æ—ï¼Œæ•æ‰æ§Œæ“Šç¬é–“ã€‚' }, { id: 7, name: 'äººå·¥éœ‡æº (Hammer Source)', desc: 'ä½¿ç”¨å¤§éµéšé‡æ“Šé‹¼æ¿ç”¢ç”Ÿå‚ç›´å‘ä¸‹çš„å½ˆæ€§æ³¢(Pæ³¢)ã€‚' } ] },
          { title: 'å™¨æç´°éƒ¨ç‰¹å¯« (Detail View)', text: 'åœ–ä¸­ç‚ºã€Œæ¸¬ç·šé›»çºœã€èˆ‡ã€Œæª¢æ³¢å™¨é€£æ¥çµ„ã€ã€‚æ©˜è‰²æ¸¬ç·šé›»çºœä¸Šæœ‰è—è‰²æ¥å£ï¼Œç”¨ä¾†é€£æ¥ç´…é»‘è‰²çš„æª¢æ³¢å™¨å¤¾å…·ã€‚ç´…è‰²æª¢æ³¢å™¨è² è²¬æ„Ÿæ¸¬åœ°è¡¨å‚ç›´éœ‡å‹•ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/6.jpg', width: 'full' },
          { title: 'å¯¦é©—éç¨‹è¨˜éŒ„ (Process)', text: '', isProcess: true, width: 'full', steps: [ { title: 'æª¢æ³¢å™¨ä½ˆè¨­', desc: 'å°‡ç´…è‰²æª¢æ³¢å™¨å‚ç›´æ’å…¥åœŸä¸­ï¼Œä¸¦ä»¥è…³è¸©å¯¦ç¢ºä¿èˆ‡åœ°é¢è€¦åˆè‰¯å¥½ã€‚æ¯éš”2å…¬å°ºè¨­ç½®ä¸€æ”¯ï¼Œå…±24æ”¯ã€‚', img: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/S__59555914.jpg' }, { title: 'è¨Šè™Ÿç·šé€£æ¥', desc: 'å°‡æª¢æ³¢å™¨çš„ç´…é»‘å¤¾åˆ†åˆ¥é€£æ¥è‡³æ¸¬ç·šé›»çºœçš„è—è‰²æ¥å£ã€‚ç´…å¤¾æ¥é•·ç«¯ï¼Œé»‘å¤¾æ¥çŸ­ç«¯ã€‚', img: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/S__59555916.jpg' }, { title: 'äººå·¥éœ‡æºæ¿€ç™¼', desc: 'è½å¾æ“ä½œå“¡æŒ‡ä»¤ï¼Œæ‰‹æŒå¤§éµéšå‚ç›´æ•²æ“Šé‹¼æ¿ã€‚æ•²æ“ŠåŠ›é“éœ€è¶³å¤ ä¸”ç©©å®šã€‚', img: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/S__59555928.jpg' }, { title: 'è§¸ç™¼èˆ‡ç´€éŒ„', desc: 'é‹¼æ¿æ—çš„é»ƒè‰²æ„Ÿæ‡‰å™¨æ•æ‰æ•²æ“Šç¬é–“(Time Zero)ï¼ŒåŒæ­¥è§¸ç™¼è³‡æ–™ç´€éŒ„å™¨é–‹å§‹æ¥æ”¶è¨Šè™Ÿã€‚', img: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/S__59555932.jpg' } ] },
          { title: 'æˆæœæ•¸æ“š (Results)', text: 'é€éåˆ†ææ‰‹å¯«èµ°æ™‚æ›²ç·šåœ–ï¼Œæˆ‘å€‘è¨ˆç®—å‡ºåœ°ä¸‹å²©å±¤çš„é€Ÿåº¦çµæ§‹ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/16.jpg', isResult: true, width: 'full', stats: { v1: '427 m/s', v2: '593 m/s', h: '4.38 m' }, derivationSteps: [ { step: '01', title: 'ç¹ªè£½èµ°æ™‚æ›²ç·š (T-X Plot)', desc: 'å°‡ 24 é“æª¢æ³¢å™¨çš„åˆé”æ³¢ (First Break) æ™‚é–“èˆ‡è·é›¢ä½œåœ–ã€‚', icon: <BarChart2 size={20} /> }, { step: '02', title: 'è¨ˆç®—è¦–é€Ÿåº¦ (Apparent Velocity)', desc: 'åˆ©ç”¨ç›´ç·šæ–œç‡å€’æ•¸æ±‚é€Ÿï¼š\nâ€¢ ç›´é”æ³¢æ–œç‡ mâ‚ â‡’ Vâ‚ = 1/mâ‚\nâ€¢ æŠ˜å°„æ³¢æ–œç‡ mâ‚‚ â‡’ Vâ‚‚ = 1/mâ‚‚', icon: <Ruler size={20} /> }, { step: '03', title: 'è®€å–æˆªè·æ™‚é–“ (Intercept Time)', desc: 'å°‡ç¬¬äºŒå±¤æŠ˜å°„æ³¢ç›´ç·šå»¶ä¼¸è‡³ x=0 è™•ï¼Œè®€å–æ™‚é–“è»¸æˆªè· Táµ¢ (Intercept Time)ã€‚', icon: <PlayCircle size={20} /> }, { step: '04', title: 'åæ¨åœ°å±¤åšåº¦ (Depth Calculation)', desc: 'ä»£å…¥æŠ˜å°„å…¬å¼æ±‚è§£åšåº¦ hï¼š\nh â‰ˆ (Táµ¢ Ã— Vâ‚ Ã— Vâ‚‚) / (2 Ã— âˆš(Vâ‚‚Â² - Vâ‚Â²))', icon: <Calculator size={20} /> } ] },
          { title: 'å¿ƒå¾—ç¸½çµ (Conclusion)', text: 'æˆ‘åœ‹é«˜ä¸­å°±å°åœ°éœ‡æ–¹é¢çš„ç ”ç©¶å¾ˆæœ‰èˆˆè¶£ï¼Œå…¶å¯¦å”¸åˆ°é€™å€‹ç³»ä¹Ÿæ˜¯è¢«å¤§äºŒä¸Šä¸‹è·Ÿåœ°éœ‡æ–¹é¢æœ‰é—œçš„èª²ç¨‹æœ‰è‘—å¾ˆå¤§çš„å¸å¼•ï¼Œé€™æ¬¡çš„å¯¦é©—ä¹Ÿæ˜¯æˆ‘ç¬¬ä¸€æ¬¡åšé‡å°åœ°éœ‡ç›¸é—œçš„å¯¦é©—ï¼Œç•¢ç«Ÿåœ°ç§‘æœ¬ä¾†å¯¦é©—ä¸Šå°±æœƒæ¯”è‡ªç„¶ç§‘çš„å…¶ä»–ä¸‰å€‹ç§‘ç›®é‚„è¦ä¾†çš„æ›´å°‘ä¸€äº›ï¼ŒåŠ ä¸Šè¨­å‚™çš„å•é¡Œã€‚é€™æ¬¡å¾ˆé–‹å¿ƒå¯ä»¥è·Ÿä¸­å¤®å¤§å­¸çš„æ•™æˆä¸€èµ·åšé€™å€‹éœ‡æºæ¢å‹˜çš„å¯¦é©—ï¼Œä¹Ÿæ˜¯è®“æˆ‘ç†è§£åˆ°ä¸€å€‹ç°¡å–®çš„å¯¦é©—éœ€è¦é€™éº¼å¤šçš„è¨­å‚™ï¼Œå¹¾ä¹éƒ½æ˜¯æˆ‘æ²’æœ‰è½éçš„ã€‚å†ç®—é€Ÿåº¦çš„æ™‚å€™ï¼Œä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡æœ‰è‘—ã€Œå“‡ï¼æˆ‘æ˜¯ç§‘å­¸å®¶çš„æ„Ÿè¦ºã€ï¼Œæ‹¿è‘—æ•¸æ“šç®—æ±è¥¿ï¼Œæ„Ÿè¦ºå°±æ˜¯ä¸€å€‹éå¸¸æœ‰è¶£çš„é«”é©—ã€‚\n\né›–ç„¶æˆ‘å€‘æ•²å¾—æ²’æœ‰å¤ªå¥½ï¼Œå°è‡´æ•™æˆèªªé€™äº›æ•¸æ“šé•·å¾—æœ‰é»é†œå“ˆå“ˆå“ˆï¼Œä½†æˆ‘ä¸å¾—ä¸èªªé‚£å€‹éµéšçœŸçš„æ˜¯æœ‰é»é‡é˜¿ï¼ï¼\n\né›–ç„¶é€™åªæ˜¯åœ°ç‰©æ¢å‹˜çš„ä¸€å€‹å°å°çš„å¯¦é©—ï¼Œä½†æ˜¯å°æˆ‘ä¾†èªªæ˜¯å€‹å¾ˆå¤§çš„æ”¶ç©«ï¼Œå¸Œæœ›æˆ‘å¯ä»¥ç¹¼çºŒå¾€é€™æ–¹é¢é‚é€²ï¼Œèƒ½å­¸åˆ°æ›´å¤šæ±è¥¿ã€‚', width: 'full' }
        ]
      }
    },
    {
      id: 'refraction-derivation',
      title: 'æ¨å°æŠ˜å°„å…¬å¼',
      subtitle: 'Formula Derivation',
      icon: <Sigma size={40} />,
      color: 'from-pink-500 to-rose-600',
      description: 'å¾å¹¾ä½•è·¯å¾‘åˆ°æ•¸å­¸å…¬å¼ï¼Œä¸€æ­¥æ­¥æ¨å°æŠ˜å°„æ³¢çš„èµ°æ™‚æ–¹ç¨‹å¼ã€‚',
      content: {
        intro: 'ç‚ºäº†è¨ˆç®—åœ°ä¸‹åˆ†å±¤çµæ§‹ï¼Œæˆ‘å€‘éœ€è¦å»ºç«‹ã€Œèµ°æ™‚ (Travel Time)ã€èˆ‡ã€Œè·é›¢ (Offset)ã€ä¹‹é–“çš„æ•¸å­¸é—œä¿‚ã€‚ä»¥ä¸‹æ¨å°å°‡å±•ç¤ºå¦‚ä½•åˆ©ç”¨å¸ä¹ƒè€³å®šå¾‹ (Snell\'s Law) èˆ‡å¹¾ä½•é—œä¿‚ï¼Œå¾—å‡ºé›™å±¤æ§‹é€ çš„æŠ˜å°„æ³¢å…¬å¼ã€‚',
        details: [
          { title: 'æ¨å°æ‰‹ç¨¿ (Field Notes)', text: 'åŒ…å«å¹¾ä½•è·¯å¾‘åœ–ç¤ºèˆ‡è©³ç´°çš„ä»£æ•¸é‹ç®—éç¨‹ã€‚', width: 'full', isDerivationImages: true, images: [ 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%B0%8E%E5%9C%962.jpeg', 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%85%AC%E5%BC%8F%E6%8E%A8%E5%B0%8E%E5%9C%961.jpeg' ] },
          { title: 'PART 1ï¼šè‡¨ç•ŒæŠ˜å°„æ³¢å…¬å¼æ¨å°', text: '', width: 'full', isDerivation: true, steps: [ { step: '01', title: 'å®šç¾©å¹¾ä½•è·¯å¾‘ (Geometry)', desc: 'å‡è¨­éœ‡æºç‚º Sï¼Œæ¥æ”¶å™¨ç‚º Gã€‚æŠ˜å°„æ³¢è·¯å¾‘ç‚º S â†’ A â†’ B â†’ Gã€‚\nå…¶ä¸­ A, B ç‚ºè‡¨ç•ŒæŠ˜å°„é»ï¼Œå…¥å°„è§’ç‚ºè‡¨ç•Œè§’ Î¸cã€‚', math: ( <div className="flex flex-col gap-2"><div className="flex items-center gap-2 text-sm text-slate-300"><TrendingUp size={16} className="text-pink-400"/> è·¯å¾‘ç¸½é•· = SA + AB + BG</div><div className="flex items-center gap-2 text-sm text-slate-300">æ ¹æ“šå¸ä¹ƒè€³å®šå¾‹ï¼š <span className="text-pink-300">sin Î¸c = Vâ‚ / Vâ‚‚</span></div></div> ) }, { step: '02', title: 'åˆ†æ®µè¨ˆæ™‚ (Time Segments)', desc: 'å°‡ç¸½æ™‚é–“ T åˆ†è§£ç‚ºä¸‰æ®µï¼šä¸‹è¡Œæ³¢(SA)ã€æ»‘è¡Œæ³¢(AB)ã€ä¸Šè¡Œæ³¢(BG)ã€‚', math: ( <div className="flex flex-col gap-2 text-sm"><div className="flex items-center gap-2"><span className="text-pink-300 font-bold">Tâ‚</span> = <MathFraction num="h" den="Vâ‚cosÎ¸c" /> (SAæ®µï¼Œæ–œé‚Š)</div><div className="flex items-center gap-2"><span className="text-pink-300 font-bold">Tâ‚‚</span> = <MathFraction num="x - 2h tanÎ¸c" den="Vâ‚‚" /> (ABæ®µï¼Œæ°´å¹³è·é›¢æ‰£é™¤å…©ç«¯)</div><div className="flex items-center gap-2"><span className="text-pink-300 font-bold">Tâ‚ƒ</span> = <MathFraction num="h" den="Vâ‚cosÎ¸c" /> (BGæ®µï¼Œèˆ‡ SA å°ç¨±)</div></div> ) }, { step: '03', title: 'ç¸½èµ°æ™‚æ–¹ç¨‹å¼ (Total Travel Time)', desc: 'å°‡ä¸‰æ®µæ™‚é–“ç›¸åŠ ä¸¦æ•´ç†ï¼š T = Tâ‚ + Tâ‚‚ + Tâ‚ƒ', math: ( <div className="flex flex-col gap-2 text-sm"><div className="flex items-center">T = <MathFraction num="x" den="Vâ‚‚" /> + <MathFraction num="2h" den="Vâ‚cosÎ¸c" /> - <MathFraction num="2h tanÎ¸c" den="Vâ‚‚" /></div><div className="text-slate-400 text-xs">å°‡ tanÎ¸c æ›æˆ sinÎ¸c/cosÎ¸c ä¸¦ä»£å…¥ sinÎ¸c = Vâ‚/Vâ‚‚ åŒ–ç°¡æˆªè·é …...</div><div className="p-3 mt-2 rounded-lg bg-pink-500/20 border border-pink-500/50 flex flex-col items-center"><div className="flex items-center text-lg font-bold text-white mb-1">T = <MathFraction num="x" den="Vâ‚‚" /> + <span className="text-pink-300 ml-2">Táµ¢</span></div><div className="flex items-center text-sm text-pink-200">(æˆªè·æ™‚é–“ Táµ¢ = <MathFraction num="2hâˆš(Vâ‚‚Â² - Vâ‚Â²)" den="Vâ‚Vâ‚‚" />)</div></div></div> ) } ] },
          { title: 'PART 2ï¼šäº¤å‰è·é›¢ (Xcr) èˆ‡æ·±åº¦è¨ˆç®—', text: '', width: 'full', isDerivation: true, steps: [ { step: '01', title: 'äº¤å‰è·é›¢å®šç¾© (Crossover Distance)', desc: 'äº¤å‰è·é›¢ (Xcr) æ˜¯æŒ‡ç›´é”æ³¢èˆ‡æŠ˜å°„æ³¢åŒæ™‚åˆ°é”æ¥æ”¶å™¨çš„ä½ç½®ã€‚åœ¨æ­¤è™•å…©è€…èµ°æ™‚ç›¸ç­‰ã€‚', math: ( <div className="flex flex-col gap-3 text-sm w-full"><div className="flex items-center justify-center gap-3 text-base font-bold text-white bg-pink-500/20 p-2 rounded-lg border border-pink-500/30"><span className="font-serif italic">T<sub className="not-italic text-xs">d</sub></span> <span>=</span> <span className="font-serif italic">T<sub className="not-italic text-xs">r</sub></span><span className="text-[10px] font-normal text-pink-200 ml-1 opacity-80">(Direct Wave = Refracted Wave)</span></div><div className="flex flex-col gap-2 pl-3 border-l-2 border-pink-500/30 mt-1"><div className="flex items-center flex-wrap gap-2"><span className="text-pink-300 font-serif italic text-base">T<sub className="not-italic text-[10px]">d</sub></span> <span>=</span><MathFraction num="x" den="Vâ‚" /><span className="text-[10px] text-slate-400 ml-1 tracking-wider uppercase">Direct Wave Time</span></div><div className="flex items-center flex-wrap gap-2"><span className="text-pink-300 font-serif italic text-base">T<sub className="not-italic text-[10px]">r</sub></span> <span>=</span><div className="flex items-center"><MathFraction num="x" den="Vâ‚‚" /> <span className="mx-1">+</span> <span className="font-serif italic">T<sub className="not-italic text-[10px]">i</sub></span></div><span className="text-[10px] text-slate-400 ml-1 tracking-wider uppercase">Refracted Wave Time</span></div></div></div> ) }, { step: '02', title: 'æ–¹ç¨‹å¼è¯ç«‹æ±‚è§£', desc: 'å°‡ç›´é”æ³¢æ–¹ç¨‹å¼èˆ‡æŠ˜å°„æ³¢æ–¹ç¨‹å¼ç›¸ç­‰ï¼Œæ±‚è§£ x (å³ Xcr)ã€‚', math: ( <div className="flex flex-col gap-2 text-sm"><div className="flex items-center"><MathFraction num="x" den="Vâ‚" /> = <MathFraction num="x" den="Vâ‚‚" /> + <MathFraction num="2hâˆš(Vâ‚‚Â² - Vâ‚Â²)" den="Vâ‚Vâ‚‚" /></div><div className="text-slate-400 text-xs">ç§»é …æ•´ç† x...</div></div> ) }, { step: '03', title: 'æ·±åº¦è¨ˆç®—å…¬å¼ (Depth Formula)', desc: 'åˆ©ç”¨ Xcr åæ¨åœ°å±¤æ·±åº¦ hï¼Œé€™æ˜¯æŠ˜å°„éœ‡æ¸¬æœ€é‡è¦çš„æ‡‰ç”¨ä¹‹ä¸€ã€‚', math: ( <div className="p-3 rounded-lg bg-pink-500/20 border border-pink-500/50 flex flex-col items-center"><div className="flex items-center text-lg font-bold text-white">h = <MathFraction num="Xcr" den="2" /> <span className="mx-2">Ã—</span> âˆš<span className="text-xl mx-1">(</span><MathFraction num="Vâ‚‚ - Vâ‚" den="Vâ‚‚ + Vâ‚" /><span className="text-xl mx-1">)</span></div></div> ) } ] },
          { title: 'äº’å‹•å¼æ¨¡æ“¬ (Simulation)', text: '', width: 'full', isSimulation: true, component: <SeismicSimulation /> }
        ]
      }
    },
    { 
      id: 'gravity-method', 
      title: 'é‡åŠ›æ¸¬å‹˜åŸç†', 
      subtitle: 'GRAVITY METHOD',
      icon: <Scale size={40} />, 
      color: 'from-emerald-400 to-cyan-600',
      description: 'æŒæ¡é‡åŠ›ç•°å¸¸çš„ä¿®æ­£æµç¨‹ï¼šå¾è‡ªç”±ç©ºé–“æ ¡æ­£ (FAC) åˆ°å¸ƒæ ¼æ ¡æ­£ (BC)ï¼Œæ­é–‹åœ°åº•å¯†åº¦çš„ç§˜å¯†ã€‚',
      content: {
        intro: 'é‡åŠ›æ¸¬å‹˜çš„æ ¸å¿ƒåœ¨æ–¼ã€Œä¿®æ­£ã€ã€‚æˆ‘å€‘æ¸¬é‡åˆ°çš„é‡åŠ›å€¼å—ç·¯åº¦ã€é«˜åº¦ã€åœ°å½¢ç­‰å¤šç¨®å› ç´ å½±éŸ¿ã€‚å”¯æœ‰å°‡é€™äº›å¹²æ“¾ä¸€ä¸€å‰”é™¤ï¼Œå‰©ä¸‹çš„ã€Œå¸ƒæ ¼ç•°å¸¸ã€ï¼Œæ‰æ˜¯çœŸæ­£åæ˜ åœ°ä¸‹å²©çŸ³å¯†åº¦åˆ†ä½ˆçš„è¨Šè™Ÿã€‚',
        details: [
          {
            isNav: true,
            title: 'å‰å¾€ GitHub å¯¦ä½œä¸‰ï¼šé‡åŠ›æ¸¬å‹˜ä½œæ¥­',
            linkTo: 'github-tutorial',
            targetId: 'project-3',
            icon: <Code />
          },
          {
            title: 'é‡åŠ›æ¸¬å‹˜åŸºç¤å…¬å¼',
            width: 'full',
            isGravityPrinciples: true
          },
          {
            title: 'ç¬¬ä¸€æ­¥ï¼šè‡ªç”±ç©ºé–“æ ¡æ­£ (FAC)',
            width: 'full',
            isFACSection: true,
          },
          {
            width: 'full',
            isFreeAirSim: true,
            component: <FACSimulation />
          },
          {
            title: 'ç¬¬äºŒæ­¥ï¼šå¸ƒæ ¼æ ¡æ­£ (BC)',
            width: 'full',
            isBCSection: true
          },
          {
            width: 'full',
            isBCSim: true,
            component: <BCSimulation />
          },
          {
            title: 'ç¬¬ä¸‰æ­¥ï¼šå¸ƒæ ¼ç•°å¸¸è§£é‡‹',
            width: 'full',
            isInterpretationSim: true,
            component: <InterpretationSimulation />
          }
        ]
      }
    },
    {
      id: 'plate-tectonics',
      title: 'æ¿å¡Šé‚Šç•Œä»‹ç´¹ï¼šå—æ¥µæ¿å¡Š',
      subtitle: 'PLATE TECTONICS',
      icon: <Map size={40} />,
      color: 'from-cyan-400 to-blue-500',
      description: 'æ·±å…¥è§£æå—æ¥µæ¿å¡Šçš„é‚Šç•Œé¡å‹èˆ‡åœ°è³ªæ§‹é€ ç‰¹å¾µã€‚',
      content: { 
        intro: 'å—æ¥µæ¿å¡Šæ˜¯åœ°çƒä¸Šæœ€ç¥ç¥•çš„æ¿å¡Šä¹‹ä¸€ï¼Œå…¶é‚Šç•Œè¤‡é›œå¤šè®Šï¼ŒåŒ…å«äº†å¼µè£‚ã€èšåˆèˆ‡è½‰å½¢ç­‰å¤šç¨®å‹æ…‹ã€‚', 
        details: [
          { 
            isProject: true,
            width: 'full',
            title: 'å—æ¥µæ¿å¡Š (Antarctic Plate) æ§‹é€ è§£æ',
            intro: 'é€éåœ°åœ–èˆ‡æ•¸æ“šï¼Œæˆ‘å€‘å¯ä»¥ç™¼ç¾å—æ¥µæ¿å¡Šä¸¦éä¸€å¡Šéœæ­¢çš„å†°å°å¤§é™¸ï¼Œè€Œæ˜¯ä¸€å€‹è¢«æ´»èºé‚Šç•Œç’°ç¹ã€ä¸æ–·æ¼”åŒ–çš„å‹•æ…‹ç³»çµ±ã€‚',
            steps: [
              { title: '1. è¢«ã€Œæ¡†èµ·ä¾†ã€çš„ä¸­å¿ƒ', text: 'å—æ¥µæ¿å¡Šä¸¦éå­¤ç«‹ï¼Œè€Œæ˜¯è¢«ä¸€åœˆæ“´å¼µè„Š (Spreading Ridge)ã€éš±æ²’å¸¶ (Subduction Zone) èˆ‡è½‰å½¢æ–·å±¤ (Transform Fault) åŒ…åœã€‚å‘¨é‚Šèˆ‡å¤ªå¹³æ´‹ã€ç´èŒ²å¡ã€å—ç¾æ´²ã€éæ´²åŠæ¾³æ´²æ¿å¡Šç›¸äº’ä½œç”¨ï¼Œå½¢æˆè¤‡é›œçš„é‚Šç•Œç³»çµ±ã€‚', width: 'full' },
              { title: '2. å¼·éœ‡æ²¿é‚Šç•Œåˆ†ä½ˆ', text: 'åœ°éœ‡æ´»å‹•ä¸»è¦é›†ä¸­åœ¨æ¿å¡Šé‚Šç·£ï¼Œå¦‚ South Sandwich æµ·æºèˆ‡ Macquarie æ–·å±¤å¸¶ã€‚æ¿å¡Šå…§éƒ¨å‰‡ç›¸å°ç©©å®šï¼Œé¡¯ç¤ºå…¶ç‚ºå‰›æ€§æ¿å¡Šæ ¸å¿ƒã€‚', width: 'half' },
              { title: '3. æ“´å¼µè„Šçš„å¹¾ä½•é‹å‹•', text: 'ç’°ç¹å—æ¥µçš„æ“´å¼µè„Šå¤§å¤šå‘ˆç¾ã€Œç™¼æ•£ã€ç‹€æ…‹ï¼Œæ„å‘³è‘—æ–°ç”Ÿæ´‹æ®¼ä¸æ–·å¾å››å‘¨ç”Ÿæˆä¸¦æ¨æ“ ï¼Œä½¿å—æ¥µæ¿å¡Šé¢ç©æŒçºŒæ“´å¤§ã€‚', width: 'half' }
            ],
            gallery: [
              { title: 'åœ–ä¸€ï¼šå—æ¥µæ¿å¡Šçƒç‹€è¦–åœ–', text: 'å¾å—æ¥µä¸Šç©ºä¿¯ç°ï¼Œå¯è¦‹å…¶è¢«ä¸­æ´‹è„Šèˆ‡æµ·æºç³»çµ±å®Œæ•´åŒ…åœçš„ç¨ç‰¹å¹¾ä½•å½¢ç‹€ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%8D%97%E6%A5%B5%E6%9D%BF%E5%A1%8A%E7%85%A7%E7%89%87%20(1).png' },
              { title: 'åœ–äºŒï¼šæ¿å¡Šé‚Šç•Œå±•é–‹åœ–', text: 'å°‡åœ°çƒå±•é–‹ç‚ºçŸ©å½¢ï¼Œæ›´æ¸…æ™°åœ°å±•ç¤ºäº†å—æ¥µæ¿å¡Šèˆ‡å‘¨é‚Šå…­å¤§æ¿å¡Šçš„æ¥è§¸é—œä¿‚èˆ‡ç›¸å°é‹å‹•æ–¹å‘ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%8D%97%E6%A5%B5%E6%9D%BF%E5%A1%8A%E7%85%A7%E7%89%87%20(2).png' }
            ]
          },
          { 
            isProject: true, 
            width: 'full',
            title: 'Python PyGMT ç¹ªåœ–å¯¦ä½œ',
            intro: 'åˆ©ç”¨ Python çš„ PyGMT å¥—ä»¶ï¼Œæ•´åˆåœ°å½¢ã€åœ°éœ‡èˆ‡ç«å±±æ•¸æ“šï¼Œç¹ªè£½å‡ºé«˜å“è³ªçš„å—æ¥µæ¿å¡Šæ§‹é€ åœ–ã€‚',
            steps: [
              { title: 'è³‡æ–™ä¾†æº', text: 'ä½¿ç”¨ ETOPO1 åœ°å½¢è³‡æ–™åº«ï¼Œçµåˆ USGS åœ°éœ‡ç›®éŒ„èˆ‡å…¨çƒç«å±±æ•¸æ“šåº«ã€‚', width: 'half' },
              { title: 'ç¨‹å¼ç¢¼é–‹æº', text: 'å®Œæ•´ç¹ªåœ–ç¨‹å¼ç¢¼å·²ä¸Šå‚³è‡³ GitHubï¼Œä¾›åŒå­¸åƒè€ƒèˆ‡è¤‡ç¾ã€‚\n\nRepository: plot_plate_boundary_pygmt', width: 'half' }
            ],
            codeSnippet: `import pygmt\nimport pandas as pd\n\n# å®šç¾©ç¹ªåœ–å€åŸŸèˆ‡æŠ•å½±\nregion = [-180, 180, -90, -50]\nprojection = "S0/-90/15c"\n\nfig = pygmt.Figure()\n\n# ç¹ªè£½åœ°å½¢åº•åœ–\ngrid = pygmt.datasets.load_earth_relief(resolution="10m", region=region)\nfig.grdimage(grid=grid, projection=projection, cmap="geo", shading=True)\n\n# ç¹ªè£½æµ·å²¸ç·š\nfig.coast(shorelines=True, frame=True)\n\n# æ¨™ç¤ºç«å±±èˆ‡åœ°éœ‡...\nfig.show()`,
            gallery: [
               { title: 'å¯¦ä½œæˆæœï¼šå—æ¥µæ¿å¡Šæ§‹é€ åœ–', text: 'åœ–ä¸­æ¸…æ¥šå‘ˆç¾äº†å—æ¥µå¤§é™¸çš„é«˜è³å†°è“‹åœ°å½¢ (ç™½è‰²å€åŸŸ)ï¼Œä»¥åŠå‘¨é‚Šæ·±é‚ƒçš„æµ·ç›† (è—è‰²å€åŸŸ)ã€‚ç´…è‰²ä¸‰è§’å½¢æ¨™ç¤ºäº†æ´»ç«å±± (å¦‚ Erebus)ï¼Œé»ƒè‰²åœ“é»å‰‡æ¨™ç¤ºäº†æ­·å²å¼·éœ‡ä½ç½®ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%8D%97%E6%A5%B5%E6%9D%BF%E5%A1%8A%E7%85%A7%E7%89%87%20(5).png' }
            ],
            embed: { title: 'GitHub ç¨‹å¼ç¢¼å€‰åº«', url: 'https://github.com/oceanicdayi/plot_plate_boundary_pygmt' }
          },
          {
             isProject: true,
             width: 'full',
             title: 'æ¿å¡Šé‚Šç•Œç¨®é¡èˆ‡åœ°å½¢æ™¯è§€',
             intro: 'å—æ¥µæ¿å¡Šå‘¨é‚Šå±•ç¤ºäº†åœ°è³ªå­¸ä¸Šä¸‰å¤§é¡æ¿å¡Šé‚Šç•Œçš„ç¶“å…¸æ¡ˆä¾‹ï¼Œé€ å°±äº†å¤šæ¨£çš„æµ·åº•åœ°å½¢ã€‚',
             steps: [
               { title: '1. ç™¼æ•£å‹ (Divergent)', text: 'â— éç¨‹ï¼šæ¿å¡Šå¼µè£‚ï¼Œå²©æ¼¿ä¸Šæ¹§ã€‚\nâ— åœ°å½¢ï¼šä¸­æ´‹è„Š (Mid-Ocean Ridge)ã€è£‚è°·ã€‚\nâ— å¯¦ä¾‹ï¼šå¤ªå¹³æ´‹-å—æ¥µæ´‹è„Š (Pacific-Antarctic Ridge)ï¼Œæ˜¯æ¿å¡Šé‚Šç•Œçš„ä¸»æµå‹æ…‹ã€‚', width: 'full' },
               { title: '2. èšåˆå‹ (Convergent)', text: 'â— éç¨‹ï¼šæ¿å¡Šéš±æ²’ï¼Œé€ æˆåœ°æ®¼ç¸®çŸ­ã€‚\nâ— åœ°å½¢ï¼šæµ·æº (Trench)ã€ç«å±±å¼§ (Volcanic Arc)ã€‚\nâ— å¯¦ä¾‹ï¼šSouth Sandwich æµ·æºï¼Œä¼´éš¨æ·±æºåœ°éœ‡èˆ‡æ´»èºç«å±±ã€‚', width: 'full' },
               { title: '3. è½‰å½¢å‹ (Transform)', text: 'â— éç¨‹ï¼šæ¿å¡Šæ°´å¹³éŒ¯å‹•ï¼Œç„¡æ–°ç”Ÿæˆ–æ¶ˆæ»…ã€‚\nâ— åœ°å½¢ï¼šæ–·è£‚å¸¶ (Fracture Zone)ã€ç·šç‹€æµ·è„Šã€‚\nâ— å¯¦ä¾‹ï¼šMacquarie æ–·å±¤å¸¶ï¼Œé€£æ¥äº†æ“´å¼µè„Šèˆ‡éš±æ²’å¸¶çš„è½‰æ›æ¨ç´ã€‚', width: 'full' }
             ]
          },
          {
            isProject: true,
            width: 'full',
            title: '11/02 è£œå……ï¼šPyGMT åœ°å½¢èµ·ä¼å„ªåŒ–å¯¦ä½œ',
            intro: 'ä»Šå¤©ä¸Šèª²è€å¸«èªªæ˜å®Œå¾Œï¼Œåˆ©ç”¨è€å¸« GitHub çš„è³‡æºé€²è¡Œ Forkï¼Œä¸¦åœ¨ Google Colab ä¸Šé‡æ–°ç”Ÿæˆã€‚å®Œæˆä¹‹å¾Œç™¼ç¾åœ–ç‰‡è³ªæ„Ÿé¡¯è‘—æå‡ï¼Œåœ°å½¢èµ·ä¼çš„ç´°ç¯€ä¹Ÿè¡¨ç¾å¾—æ›´åŠ æ˜é¡¯ã€‚',
            steps: [
              { title: 'GPT æç¤ºè©ç­–ç•¥', text: 'ã€Œæˆ‘æƒ³å†ç”Ÿæˆä¸€æ¬¡å—æ¥µæ¿å¡Šçš„é‚£å€‹ PyGMT åœ–ï¼Œç„¶å¾Œå¸Œæœ›é€™æ¬¡å¯ä»¥åŠ ä¸Šä¸€äº›åœ°å½¢é«˜ä½èµ·ä¼çš„æ¨£å­ï¼Œå‰›å‰›å·²ç¶“ç”¨ Google Colab æŠŠ PyGMT çš„ä¸€äº›ç’°å¢ƒç”Ÿæˆäº†ã€‚ã€', width: 'full' }
            ],
            gallery: [
               { title: 'å¯¦ä½œéç¨‹ï¼šGoogle Colab ç’°å¢ƒå»ºç½®', text: 'åœ¨ Colab ä¸­é…ç½® PyGMT ç’°å¢ƒä¸¦åŸ·è¡Œç¹ªåœ–ç¨‹å¼ç¢¼ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%8D%97%E6%A5%B5%E6%9D%BF%E5%A1%8A%E7%85%A7%E7%89%87%20(4).png' },
               { title: 'å¯¦ä½œçµæœï¼šé«˜è§£æåœ°å½¢èµ·ä¼åœ–', text: 'å„ªåŒ–å¾Œçš„æˆæœåœ–ï¼Œæ¸…æ™°å±•ç¤ºäº†å—æ¥µå¤§é™¸èˆ‡å‘¨é‚Šæµ·åºŠçš„åœ°å½¢ç´‹ç†èˆ‡èµ·ä¼ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%8D%97%E6%A5%B5%E6%9D%BF%E5%A1%8A%E7%85%A7%E7%89%87%20(3).png' }
            ]
          }
        ] 
      }
    },
    {
      id: 'rock-magnetism',
      title: 'åœ°ç£æ¸¬å‹˜èˆ‡å¤åœ°ç£å­¸',
      subtitle: 'PALEOMAGNETISM',
      icon: <Magnet size={40} />,
      color: 'from-red-500 to-rose-600',
      description: 'å²©çŸ³çš„ç§˜å¯†ç¾…ç›¤ï¼šå¾è¦–æ¥µç§»æ›²ç·š (APWP) è§£é–‹å¤§é™¸æ¼‚ç§»çš„è¬é¡Œã€‚',
      content: { 
        intro: 'å¤åœ°ç£å­¸ä¸åƒ…è¨˜éŒ„äº†åœ°çƒç£å ´çš„æ­·å²ï¼Œæ›´æ˜¯æ¿å¡Šæ§‹é€ å­¸èªªæœ€æœ‰åŠ›çš„è­‰æ“šä¹‹ä¸€ã€‚é€éåˆ†æå²©çŸ³ä¸­çš„ã€ŒåŒ–çŸ³ç£æ€§ã€ï¼Œæˆ‘å€‘ç™¼ç¾ç£æ¥µä¼¼ä¹åœ¨ç§»å‹•ï¼Œé€™å°±æ˜¯è‘—åçš„ã€Œè¦–æ¥µç§»ã€ç¾è±¡ã€‚', 
        details: [
          {
            title: 'åœ°ç£å ´çš„èµ·æº (Origin of Geomagnetism)',
            width: 'full',
            isKeyPoints: true,
            points: [
              { title: 'åœ°çƒç™¼é›»æ©Ÿç†è«– (Geodynamo Theory)', desc: 'åœ°çƒç£å ´ä¸¦éä¾†è‡ªåœ°æ ¸ä¸­çš„æ°¸ä¹…ç£éµï¼ˆå› ç‚ºåœ°æ ¸æº«åº¦é é«˜æ–¼å±…é‡Œæº«åº¦ï¼‰ï¼Œè€Œæ˜¯ç”±æ¶²æ…‹å¤–æ ¸ä¸­å°é›»éµé³æµé«”çš„å°æµé‹å‹•æ‰€ç”¢ç”Ÿçš„ã€‚\né€™æ˜¯ä¸€å€‹è‡ªæ¿€ç™¼é›»æ©Ÿç³»çµ±ï¼š\n1. å°é›»æµé«”é‹å‹•åˆ‡å‰²å¾®å¼±ç£åŠ›ç·šã€‚\n2. ç”¢ç”Ÿæ„Ÿæ‡‰é›»æµã€‚\n3. æ„Ÿæ‡‰é›»æµå†ç”¢ç”Ÿæ›´å¼·çš„ç£å ´ã€‚' },
              { title: 'é•·æœŸè®ŠåŒ– (Secular Variation)', desc: 'åœ°ç£å ´ä¸¦éæ†å®šä¸è®Šï¼Œå…¶å¼·åº¦ã€æ–¹å‘å’Œç£æ¥µä½ç½®æœƒéš¨æ™‚é–“ç·©æ…¢æ”¹è®Šã€‚ä¾‹å¦‚ç›®å‰çš„ç£åŒ—æ¥µæ­£å¿«é€Ÿå‘è¥¿ä¼¯åˆ©äºç§»å‹•ã€‚' },
              { title: 'ç£åŠ›å€’è½‰ (Magnetic Reversal)', desc: 'åœ°ç£å ´çš„å—åŒ—æ¥µæœƒä¸å®šæ™‚äº’æ›ã€‚æœ€è¿‘ä¸€æ¬¡å€’è½‰ç™¼ç”Ÿåœ¨ç´„ 78 è¬å¹´å‰ï¼ˆBrunhes-Matuyama reversalï¼‰ã€‚é€™äº›å€’è½‰äº‹ä»¶è¢«åƒæ¢ç¢¼ä¸€æ¨£è¨˜éŒ„åœ¨æµ·æ´‹åœ°æ®¼ä¸­ã€‚' }
            ]
          },
          {
            title: 'å²©çŸ³ç£æ€§çš„ç¨®é¡ (Magnetization Types)',
            width: 'full',
            isProcess: true,
            steps: [
              { title: 'ç†±å‰©ç£ (TRM)', desc: 'Thermo-Remanent Magnetization\nç«æˆå²©ï¼ˆå¦‚ç„æ­¦å²©ï¼‰å¾å²©æ¼¿å†·å»ï¼Œç•¶æº«åº¦ä½æ–¼ã€Œå±…é‡Œæº«åº¦ (Curie Temp, ~580Â°C)ã€æ™‚ï¼Œç£æ€§ç¤¦ç‰©æœƒä¾ç•¶æ™‚åœ°ç£æ–¹å‘æ’åˆ—ä¸¦é–å®šã€‚é€™æ˜¯æœ€å¼·ã€æœ€ç©©å®šçš„ç´€éŒ„ã€‚', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/Igneous_rock_formation_MBL.jpg/640px-Igneous_rock_formation_MBL.jpg' },
              { title: 'æ²‰ç©å‰©ç£ (DRM)', desc: 'Detrital Remanent Magnetization\nç£æ€§é¡†ç²’åœ¨æ²‰ç©éç¨‹ä¸­ï¼Œåƒå¾®å°æŒ‡åŒ—é‡ä¸€æ¨£å—åœ°ç£å¼•å°ï¼Œåœ¨è½å…¥æ°´åº•ä¸¦è¢«å£“å¯¦è† çµå¾Œï¼Œä¿ç•™äº†ç•¶æ™‚çš„ç£å ´æ–¹å‘ã€‚', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Sedimentary_Rock_Cycle.svg/640px-Sedimentary_Rock_Cycle.svg.png' },
              { title: 'åŒ–å­¸å‰©ç£ (CRM)', desc: 'Chemical Remanent Magnetization\nå²©çŸ³å½¢æˆå¾Œï¼Œå› åŒ–å­¸æ›è³ªä½œç”¨ï¼ˆå¦‚æ°§åŒ–ã€é‡çµæ™¶ï¼‰ç”Ÿæˆæ–°çš„ç£æ€§ç¤¦ç‰©ï¼Œé€™äº›æ–°ç¤¦ç‰©æœƒè¨˜éŒ„ä¸‹ã€Œæ›è³ªç™¼ç”Ÿæ™‚ã€çš„ç£å ´æ–¹å‘ã€‚', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/d/d3/Banded_iron_formation_Dales_Gorge.jpg/640px-Banded_iron_formation_Dales_Gorge.jpg' },
              { title: 'ç­‰æº«å‰©ç£ (IRM)', desc: 'Isothermal Remanent Magnetization\nå²©çŸ³åœ¨å®šæº«ä¸‹å—åˆ°çŸ­æš«å¼·ç£å ´ï¼ˆå¦‚é–ƒé›»ï¼‰ç£åŒ–æ‰€ç•™ä¸‹çš„ç£æ€§ã€‚é€™é€šå¸¸æ˜¯æˆ‘å€‘åœ¨å¯¦é©—å®¤ä¸­è©¦åœ–æ¶ˆé™¤çš„é›œè¨Šã€‚', img: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Fulgurite1.jpg/640px-Fulgurite1.jpg' }
            ]
          },
          {
             title: 'äº’å‹•å¯¦ä½œï¼šå¤ç·¯åº¦è¨ˆç®—æ©Ÿ',
             width: 'full',
             isCustomComp: true,
             component: <PaleoMagCalculator />
          },
          {
            title: 'æµ·åº•æ“´å¼µå­¸èªªèˆ‡ç£æ¢å¸¶ (Magnetic Stripes)',
            text: '1963å¹´ï¼ŒVine èˆ‡ Matthews æå‡ºäº†è§£é‡‹æµ·åº•ç£åŠ›ç•°å¸¸çš„å‡èªªï¼Œæˆç‚ºæ¿å¡Šæ§‹é€ å­¸èªªçš„é—œéµè­‰æ“šã€‚\n\nâ— åŸç†ï¼šä¸­æ´‹è„Šä¸æ–·æ¹§å‡ºå²©æ¼¿å½¢æˆæ–°åœ°æ®¼ï¼Œå†·å»æ™‚è¨˜éŒ„äº†ç•¶æ™‚çš„åœ°ç£æ¥µæ€§ï¼ˆæ­£å‘æˆ–åå‘ï¼‰ã€‚\nâ— ç¾è±¡ï¼šéš¨è‘—æµ·åº•æ“´å¼µï¼Œé€™äº›åœ°æ®¼è¢«æ¨å‘å…©å´ï¼Œå½¢æˆäº†ä¸€ç³»åˆ—å¹³è¡Œæ–¼ä¸­æ´‹è„Šã€æ­£åæ¥µæ€§äº¤æ›¿çš„ã€Œç£æ¢å¸¶ã€ã€‚\nâ— æ„ç¾©ï¼šé€™å°±åƒæ˜¯ä¸€æ²å·¨å¤§çš„éŒ„éŸ³å¸¶ï¼Œå¿ å¯¦è¨˜éŒ„äº†åœ°çƒç£å ´ç™¾è¬å¹´ä¾†çš„å€’è½‰æ­·å²ï¼Œä¹Ÿè­‰å¯¦äº†æµ·åº•ç¢ºå¯¦æ­£åœ¨æ“´å¼µã€‚',
            image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Sea_floor_spreading_model.svg/1200px-Sea_floor_spreading_model.svg.png',
            width: 'full'
          },
          {
            title: 'é—œéµè­‰æ“šï¼šç‚ºä»€éº¼æœƒæœ‰å…©æ¢è·¯å¾‘ï¼Ÿ',
            width: 'full',
            isSplitImage: true,
            images: {
              left: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/image0131.png',
              right: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/image0131%20-%20%E8%A4%87%E8%A3%BD.png'
            },
            sections: [
              {
                title: 'ç¾ä»Šåœ°åœ–ï¼šåˆ†å²”çš„è·¯å¾‘ (Diverging Paths)',
                desc: 'å·¦åœ–é¡¯ç¤ºåœ¨ã€Œç¾ä»Šã€åœ°ç†ä½ç½®ä¸Šç¹ªè£½çš„å¤åœ°ç£æ¥µè·¯å¾‘ã€‚\n\næˆ‘å€‘ç™¼ç¾åŒ—ç¾æ´² (ç´…ç·š) èˆ‡æ­äºå¤§é™¸ (ç¶ ç·š) çš„è·¯å¾‘æ˜¯åˆ†é–‹çš„ã€‚é€™ä¼¼ä¹æš—ç¤ºéå»åœ°çƒåŒæ™‚æœ‰ã€Œå…©å€‹åŒ—æ¥µã€ï¼Œé€™é•åäº†åœ°ç£å­¸çš„åŸºæœ¬å‡è¨­ (GAD)ï¼Œåœ¨ç•¶æ™‚é€ æˆäº†å·¨å¤§çš„å›°æƒ‘ã€‚'
              },
              {
                title: 'é‚„åŸæ¼‚ç§»ï¼šé‡åˆçš„è·¯å¾‘ (Merged Paths)',
                desc: 'å³åœ–æ˜¯å°‡å¤§è¥¿æ´‹é–‰åˆï¼ŒæŠŠåŒ—ç¾æ´²èˆ‡æ­æ´²æ‹¼å›ã€Œç›¤å¤å¤§é™¸ã€æ™‚æœŸçš„ä½ç½®ã€‚\n\nå¥‡è¹Ÿç™¼ç”Ÿäº†ï¼é€™å…©æ¢åŸæœ¬åˆ†é–‹çš„æ›²ç·šç«Ÿç„¶å®Œç¾ã€Œé‡åˆã€åœ¨ä¸€èµ·ã€‚é€™è­‰å¯¦äº†åœ°çƒåªæœ‰ä¸€å€‹ç£æ¥µï¼Œæ›²ç·šçš„åˆ†é›¢æ˜¯å› ç‚ºã€Œå¤§é™¸æ¼‚ç§»ã€é€ æˆçš„éŒ¯è¦ºã€‚'
              }
            ]
          },
          {
            title: 'é‡é»æ•´ç†ï¼šå¤åœ°ç£è³‡è¨Šè§£ç¢¼',
            width: 'full',
            isKeyPoints: true,
            points: [
              { title: 'ç£å‚¾è§’ (Inclination) = ç·¯åº¦è¨ˆ', desc: 'ç£åŠ›ç·šèˆ‡åœ°è¡¨çš„å¤¾è§’ã€‚\nâ— èµ¤é“ç‚º 0Â° (æ°´å¹³)ï¼Œå…©æ¥µç‚º 90Â° (å‚ç›´)ã€‚\nâ— å…¬å¼ï¼štan(I) = 2 tan(Î»)ã€‚é€éæ¸¬é‡ç£å‚¾è§’ï¼Œæˆ‘å€‘èƒ½ç®—å‡ºå²©çŸ³å½¢æˆæ™‚æ‰€åœ¨çš„ã€Œå¤ç·¯åº¦ã€ã€‚' },
              { title: 'ç£åè§’ (Declination) = æ–¹å‘ç›¤', desc: 'ç£åŒ—æ¥µèˆ‡åœ°ç†åŒ—æ¥µçš„å¤¾è§’ã€‚\né€™å‘Šè¨´æˆ‘å€‘å²©çŸ³å½¢æˆå¾Œï¼Œè©²åœ°å¡Šç™¼ç”Ÿäº†å¤šå°‘è§’åº¦çš„ã€Œæ°´å¹³æ—‹è½‰ã€ã€‚' },
              { title: 'ç†±å‰©ç£ (TRM)', desc: 'ç«æˆå²© (å¦‚ç„æ­¦å²©) å¾å²©æ¼¿å†·å»é€šéã€Œå±…é‡Œæº«åº¦ (Curie Point)ã€æ™‚ï¼Œç£æ€§ç¤¦ç‰©æœƒè¢«é–å®šã€‚é€™æ˜¯æœ€å¼·ä¸”æœ€ç©©å®šçš„å¤åœ°ç£ç´€éŒ„ã€‚' }
            ]
          }
        ] 
      }
    },
    {
      id: 'geothermics',
      title: 'åœ°çƒçš„ç†±åˆ†å¸ƒ',
      subtitle: 'EARTH HEAT DISTRIBUTION',
      icon: <Thermometer size={40} />,
      color: 'from-orange-500 to-red-600',
      description: 'åœ°çƒæ˜¯ä¸€å€‹å·¨å¤§çš„ç†±å¼•æ“ã€‚æ¢ç´¢é©…å‹•æ¿å¡Šé‹å‹•ã€ç«å±±çˆ†ç™¼èˆ‡æ·±æµ·ç’°æµçš„èƒ½é‡ä¾†æºèˆ‡åˆ†å¸ƒã€‚',
      content: { 
        intro: 'åœ°çƒå…§éƒ¨çš„ç†±æµåƒ…ä½”åœ°è¡¨ç¸½èƒ½é‡é ç®—çš„ 0.03% (ä¸»è¦ä¾†è‡ªå¤ªé™½è¼»å°„)ï¼Œä½†é€™å¾®å°çš„èƒ½é‡å»æ˜¯é©…å‹•æ‰€æœ‰å…§éƒ¨åœ°è³ªæ´»å‹•ï¼ˆå¦‚åœ°éœ‡ã€é€ å±±é‹å‹•ã€æ¿å¡Šæ¼‚ç§»ï¼‰çš„é—œéµå¼•æ“ã€‚', 
        details: [
          {
            title: 'ç†±çš„ä¾†æºèˆ‡é ç®— (Heat Sources & Budget)',
            width: 'full',
            isChartGroup: true,
            charts: [
              { 
                title: 'åœ°çƒç¸½ç†±æµé ç®— (Total Heat Budget)', 
                text: 'åœ°çƒå…§éƒ¨çš„ç¸½ç†±é€šé‡ç´„ç‚º 47 Â± 2 TWã€‚\né€™è‚¡èƒ½é‡ä¸»è¦ä¾†è‡ªå…©å¤§æºé ­ï¼Œè²¢ç»ç´„å„åŠï¼š\n\n1. åŸå§‹ç†± (Primordial Heat)ï¼šç´„ 50%ã€‚ä¾†è‡ªåœ°çƒå½¢æˆåˆæœŸçš„å¸ç©èƒ½ã€é‡åŠ›åˆ†ç•°ï¼ˆåœ°æ ¸å½¢æˆï¼‰æ‰€æ®˜ç•™çš„ç†±ã€‚\n2. æ”¾å°„æ€§ç†± (Radiogenic Heat)ï¼šç´„ 50%ã€‚ç”±åœ°æ®¼èˆ‡åœ°å‡½ä¸­ä¸ç©©å®šåŒä½ç´  (éˆ¾-238, éˆ¾-235, é‡·-232, é‰€-40) è¡°è®Šç”¢ç”Ÿã€‚',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/c/c4/Earth_heat_flow.jpg/1200px-Earth_heat_flow.jpg' 
              },
              { 
                title: 'å‚³è¼¸æ©Ÿåˆ¶ï¼šå°æµèˆ‡å‚³å°', 
                text: 'â— åœ°å‡½å°æµ (Mantle Convection)ï¼šä¸»è¦æ©Ÿåˆ¶ã€‚ç†±ç‰©è³ªä¸Šå‡ã€å†·ç‰©è³ªä¸‹æ²‰ï¼Œå¦‚åŒç…®æ²¸çš„ç†±æ°´ï¼Œå¸¶å‹•ä¸Šæ–¹æ¿å¡Šç§»å‹•ã€‚\nâ— åœ°æ®¼å‚³å° (Crustal Conduction)ï¼šç†±é‡ç©¿é€å›ºæ…‹å²©çŸ³åœˆçš„ã€Œæœ€å¾Œä¸€å“©è·¯ã€ã€‚é€™æ˜¯æˆ‘å€‘åœ¨åœ°è¡¨æ¸¬é‡ç†±æµçš„ä¸»è¦ä¾æ“šã€‚',
                image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Earth_layers_model.png/600px-Earth_layers_model.png' 
              }
            ]
          },
          {
            title: 'å…¨çƒç†±æµåˆ†å¸ƒç‰¹å¾µ (Global Distribution)',
            width: 'full',
            isSplitImage: true,
            images: {
              left: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%9C%B0%E6%AE%BC%E7%85%A7%E7%89%87.jpg',
              right: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E5%9C%B0%E6%AE%BC%E7%85%A7%E7%89%87%20-%20%E8%A4%87%E8%A3%BD.jpg'
            },
            sections: [
              {
                title: 'å¤§é™¸åœ°æ®¼ (Continental Crust)',
                desc: 'â— å¹³å‡ç†±æµè¼ƒä½ï¼šç´„ 65 mW/mÂ²ã€‚\nâ— ç‰¹å¾µï¼šåœ°æ®¼åšä¸”å¤è€ã€‚\nâ— æ©Ÿåˆ¶ï¼šç´„ 55% çš„ç†±æµä¾†è‡ªåœ°æ®¼å…§éƒ¨è±å¯Œçš„æ”¾å°„æ€§å…ƒç´  (Radiogenic Heat) è¡°è®Šï¼Œè€Œéæ·±éƒ¨åœ°å‡½ã€‚å¤è€çš„å…‹æ‹‰é€š (Craton) ç†±æµæœ€ä½ã€‚'
              },
              {
                title: 'æµ·æ´‹åœ°æ®¼ (Oceanic Crust)',
                desc: 'â— å¹³å‡ç†±æµè¼ƒé«˜ï¼šç´„ 101 mW/mÂ²ã€‚\nâ— ç‰¹å¾µï¼šåœ°æ®¼è–„ä¸”å¹´è¼•ã€‚\nâ— æ©Ÿåˆ¶ï¼šä¸»è¦ç”±ã€Œå²©çŸ³åœˆå†·å»ã€æ§åˆ¶ã€‚åœ¨ä¸­æ´‹è„Šè™•ç†±æµæœ€é«˜ï¼Œéš¨è‘—æ¿å¡Šå‘å…©å´æ“´å¼µä¸¦å†·å»ï¼Œç†±æµéš¨å¹´é½¡å¢åŠ è€Œé™ä½ã€‚'
              }
            ]
          },
          {
            width: 'full',
            isCustomComp: true,
            component: <GlobalHeatFlowMap />
          },
          {
            title: 'ç†±æµçš„å½±éŸ¿èˆ‡æ‡‰ç”¨ (Impact & Applications)',
            width: 'full',
            isKeyPoints: true,
            points: [
              { title: 'é©…å‹•æ¿å¡Šæ§‹é€ ', desc: 'åœ°å‡½å°æµç”¢ç”Ÿçš„æ‹–æ›³åŠ› (Drag Force) ä»¥åŠä¸­æ´‹è„Šæ¨åŠ› (Ridge Push)ã€éš±æ²’å¸¶æ‹‰åŠ› (Slab Pull)ï¼Œæ˜¯æ¿å¡Šé‹å‹•çš„å‹•åŠ›ä¾†æºã€‚' },
              { title: 'æ·±æµ·æº«é¹½ç’°æµ', desc: 'æµ·åº•åœ°ç†±åŠ ç†±åº•å±¤æµ·æ°´ï¼Œå¢åŠ å…¶æµ®åŠ›ï¼Œå¼·åŒ–äº†å…¨çƒæµ·æ´‹çš„æº«é¹½ç’°æµ (Thermohaline Circulation)ï¼Œå½±éŸ¿å…¨çƒæ°£å€™ã€‚' },
              { title: 'èƒ½æºèˆ‡è³‡æºæ¢å‹˜', desc: 'åˆ©ç”¨ç†±æµæ¨¡å‹è©•ä¼°æ²‰ç©ç›†åœ°çš„ã€Œç”Ÿæ²¹çª— (Oil Window)ã€æˆç†Ÿåº¦ï¼Œæˆ–å°‹æ‰¾åœ°ç†±ç™¼é›»æ½›åŠ›å€ã€‚' }
            ]
          }
        ] 
      }
    },
    {
      id: 'geothermal-method',
      title: 'åœ°ç†±æ¢å‹˜èˆ‡ç†±æµæ¸¬é‡',
      subtitle: 'GEOTHERMAL & HEAT FLOW',
      icon: <Flame size={40} />,
      color: 'from-orange-500 to-red-600',
      description: 'å¾åœ°æº«æ¢¯åº¦åˆ°ç†±æµè¨ˆç®—ï¼Œæ¢ç´¢åœ°çƒå…§éƒ¨çš„ç†±èƒ½é‡‹æ”¾æ©Ÿåˆ¶èˆ‡åœ°ç†±è³‡æºæ½›èƒ½ã€‚',
      content: {
        intro: 'åœ°ç†±æµ (Heat Flow) æ˜¯åœ°çƒå…§éƒ¨ç†±èƒ½å‚³éè‡³åœ°è¡¨çš„é€Ÿç‡ã€‚å®ƒæ˜¯äº†è§£åœ°çƒå…§éƒ¨å‹•åŠ›å­¸ï¼ˆå¦‚åœ°å‡½å°æµã€æ¿å¡Šå†·å»ï¼‰çš„é—œéµåƒæ•¸ï¼Œä¹Ÿæ˜¯è©•ä¼°åœ°ç†±èƒ½æºé–‹ç™¼æ½›åŠ›çš„æ ¸å¿ƒæŒ‡æ¨™ã€‚',
        details: [
          {
             title: 'åœ°æ®¼ç†±æµè¨ˆç®—æ©Ÿ (Heat Flow Calculator)',
             width: 'full',
             isCustomComp: true,
             component: <HeatFlowCalculator />
          },
          {
             title: 'å…¨çƒç†±æµåˆ†å¸ƒç‰¹å¾µ (Global Distribution)',
             width: 'full',
             isCustomComp: true,
             component: <GlobalHeatFlowMap />
          },
          {
            title: 'åœ°ç†±æ¢å‹˜å¯¦å‹™åœ–é›† (Exploration Gallery)',
            width: 'full',
            isChartGroup: true,
            charts: [
              { 
                title: 'åœ–ä¸€ï¼šåœ°æº«æ¢¯åº¦æ¸¬é‡ (Temperature Gradient)', 
                text: 'æ­¤åœ–å±•ç¤ºäº†éš¨æ·±åº¦è®ŠåŒ–çš„æº«åº¦ç´€éŒ„æ›²ç·šï¼ˆT-D Curveï¼‰ã€‚\n\nâ— é‡é»åˆ†æï¼š\n1. ç·šæ€§å¢æº«ï¼šåœ¨æ·ºéƒ¨åœ°å±¤ï¼Œæº«åº¦é€šå¸¸éš¨æ·±åº¦ç·šæ€§å¢åŠ ã€‚\n2. æ¢¯åº¦è®ŠåŒ–ï¼šè‹¥æ›²ç·šæ–œç‡ç™¼ç”Ÿæ”¹è®Šï¼Œé€šå¸¸æš—ç¤ºå²©æ€§æ”¹è®Šï¼ˆç†±å°ç‡ä¸åŒï¼‰æˆ–æœ‰åœ°ä¸‹æ°´æµå‹•å¹²æ“¾ã€‚\n3. æ‡‰ç”¨ï¼šé€éè¨ˆç®—æ­¤æ›²ç·šçš„æ–œç‡ (dT/dz)ï¼Œæˆ‘å€‘èƒ½ç²å¾—è©²æ¸¬ç«™çš„ç²¾ç¢ºåœ°æº«æ¢¯åº¦å€¼ã€‚',
                image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/unnamed.jpg' 
              },
              { 
                title: 'åœ–äºŒï¼šå²©çŸ³ç†±å°ç‡åˆ†æ (Thermal Conductivity)', 
                text: 'å¯¦é©—å®¤é‡å°é‘½äº•å–å‡ºçš„å²©èŠ¯æ¨£æœ¬é€²è¡Œç†±å°ç‡ (k) æ¸¬é‡ã€‚\n\nâ— é‡é»åˆ†æï¼š\n1. å²©æ€§æ§åˆ¶ï¼šä¸åŒå²©çŸ³ï¼ˆå¦‚ç ‚å²©ã€é å²©ã€ç„æ­¦å²©ï¼‰å…·æœ‰ä¸åŒçš„å°ç†±èƒ½åŠ›ã€‚\n2. å­”éš™åº¦å½±éŸ¿ï¼šå­”éš™å«æ°´æœƒé¡¯è‘—æ”¹è®Šå²©çŸ³çš„æ•´é«”ç†±å°ç‡ã€‚\n3. æ•¸æ“šæ•´åˆï¼šå¿…é ˆæ¸¬é‡å°æ‡‰æ·±åº¦çš„å²©çŸ³ç†±å°ç‡ï¼Œæ‰èƒ½èˆ‡åœ°æº«æ¢¯åº¦çµåˆä½œå‡ºæ­£ç¢ºçš„ç†±æµè¨ˆç®—ã€‚',
                image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/unnamed%20(1).jpg' 
              },
              { 
                title: 'åœ–ä¸‰ï¼šå¸ƒæ‹‰å¾·åœ–åˆ†æ (Bullard Plot)', 
                text: 'é€™æ˜¯ä¸€ç¨®æ›´é€²éšçš„ç†±æµè¨ˆç®—æ–¹æ³•ï¼Œç”¨æ–¼è™•ç†åˆ†å±¤ä»‹è³ªã€‚\n\nâ— é‡é»åˆ†æï¼š\n1. åŸç†ï¼šå°‡æº«åº¦ (T) å°ç†±é˜» (Thermal Resistance) ä½œåœ–ã€‚\n2. å„ªå‹¢ï¼šè‹¥åœ°å±¤ç”±å¤šå±¤ä¸åŒç†±å°ç‡çš„å²©çŸ³çµ„æˆï¼Œå‚³çµ±çš„ q = -k(dT/dz) é›£ä»¥ç›´æ¥æ‡‰ç”¨ã€‚Bullard Plot èƒ½å°‡å¤šå±¤æ•´åˆæˆä¸€æ¢ç›´ç·šã€‚\n3. çµæœï¼šè©²ç›´ç·šçš„æ–œç‡å³ç‚ºè©²å€åŸŸçš„å¹³å‡ç†±æµå€¼ (Heat Flow)ã€‚',
                image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/unnamed%20(2).jpg' 
              },
              { 
                title: 'åœ–å››ï¼šåœ°æº«åˆ†ä½ˆèˆ‡ç•°å¸¸ (Thermal Anomaly)', 
                text: 'å°‡å¤šå£æ¸¬äº•çš„æ•¸æ“šæ•´åˆï¼Œç¹ªè£½å‡ºå€åŸŸæ€§çš„åœ°æº«ç­‰å€¼ç·šåœ–ã€‚\n\nâ— é‡é»åˆ†æï¼š\n1. ç†±é»è­˜åˆ¥ï¼šåœ–ä¸­é¡è‰²è¼ƒæ·±æˆ–æ•¸å€¼è¼ƒé«˜çš„å€åŸŸï¼ˆå¦‚ç´…è‰²å€å¡Šï¼‰ï¼Œä»£è¡¨åœ°æº«ç•°å¸¸åé«˜ã€‚\n2. æ§‹é€ é—œè¯ï¼šé€™äº›é«˜æº«å€é€šå¸¸èˆ‡æ–·å±¤å¸¶ã€å²©æ¼¿åº«æˆ–æ·±éƒ¨ç†±æµé«”é€šé“æœ‰é—œã€‚\n3. æ¢å‹˜ç›®æ¨™ï¼šé€™äº›ç•°å¸¸å€å³ç‚ºåœ°ç†±ç™¼é›»å» é¸å€çš„æ½›åŠ›ç›®æ¨™å€ã€‚',
                image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/unnamed%20(3).jpg' 
              },
              { 
                title: 'åœ–äº”ï¼šåœ°ç†±æ½›èƒ½ç¶œåˆè©•ä¼° (Geothermal Potential)', 
                text: 'çµåˆåœ°è³ªæ¨¡å‹ã€åœ°çƒç‰©ç†æ•¸æ“šèˆ‡åœ°çƒåŒ–å­¸åˆ†æçš„æœ€çµ‚æˆæœåœ–ã€‚\n\nâ— é‡é»åˆ†æï¼š\n1. 3D æ¨¡å‹ï¼šå±•ç¤ºåœ°ä¸‹å„²é›†å±¤ (Reservoir) çš„ç©ºé–“åˆ†ä½ˆèˆ‡æ·±åº¦ã€‚\n2. å°è“‹å±¤ (Cap Rock)ï¼šç¢ºèªæ˜¯å¦æœ‰ç·»å¯†å²©å±¤èƒ½å°‡ç†±èƒ½èˆ‡æµé«”å°å­˜æ–¼åœ°ä¸‹ã€‚\n3. æ±ºç­–ä¾æ“šï¼šè©•ä¼°å¯é–‹ç™¼çš„ç†±èƒ½ç¸½é‡ï¼ˆMWï¼‰ï¼Œæ±ºå®šç”Ÿç”¢äº•çš„é‘½æ¢ä½ç½®èˆ‡æ·±åº¦ã€‚',
                image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/unnamed%20(4).jpg' 
              }
            ]
          },
          {
            title: 'æ¸¬é‡æ–¹æ³•èˆ‡æŒ‘æˆ° (Methods)',
            width: 'full',
            isProject: true,
            intro: 'åœ¨ä¸åŒçš„åœ°è³ªç’°å¢ƒä¸‹ï¼Œç§‘å­¸å®¶éœ€è¦ä½¿ç”¨ä¸åŒçš„å·¥å…·ä¾†ç²å–é€™å…©å€‹é—œéµåƒæ•¸ã€‚',
            steps: [
              { 
                title: '1. é™¸åœ°æ¸¬é‡ (On Land)', 
                text: 'â— å·¥å…·ï¼šé‘½äº•èˆ‡ç²¾å¯†æº«åº¦æ¸¬äº• (Temperature Logging)ã€‚\nâ— æŒ‘æˆ°ï¼šéœ€é‘½æ¢è‡³ä¸€å®šæ·±åº¦ä»¥é¿é–‹åœ°è¡¨å­£ç¯€æ€§æ°£æº«è®ŠåŒ–çš„å¹²æ“¾ã€‚éœ€é€²è¡Œåœ°å½¢æ ¡æ­£èˆ‡åœ°ä¸‹æ°´æµå‹•æ ¡æ­£ã€‚', 
                width: 'half' 
              },
              { 
                title: '2. æµ·æ´‹æ¸¬é‡ (At Sea)', 
                text: 'â— å·¥å…·ï¼šæ·±æ°´æº«åº¦æ¢é‡ (Heat Flow Probe)ã€‚\nâ— æ–¹æ³•ï¼šåƒé£›é¢ä¸€æ¨£åˆºå…¥æµ·åº•è»Ÿæ³¥ï¼Œæ„Ÿæ¸¬å™¨ç›´æ¥æ¸¬é‡æ²‰ç©ç‰©çš„æº«åº¦æ¢¯åº¦èˆ‡åŸä½ç†±å°ç‡ã€‚\nâ— å„ªå‹¢ï¼šæµ·åº•æº«åº¦ç›¸å°ç©©å®šï¼Œä¸”æ²‰ç©ç‰©æ˜“æ–¼ç©¿é€ã€‚', 
                width: 'half' 
              },
              { 
                title: '3. ä¼°ç®—æŒ‡æ¨™ (Proxies)', 
                text: 'ç•¶ç„¡æ³•ç›´æ¥æ¸¬é‡æ™‚ï¼Œå¯åˆ©ç”¨ï¼š\nâ— äº•åº•æº«åº¦ (BHTs)ï¼šæ²¹æ°£é‘½äº•çš„ç´€éŒ„ï¼Œéœ€ç¶“éœç´åœ– (Horner Plot) æ ¡æ­£ã€‚\nâ— åœ°ä¸‹æ°´åŒ–å­¸ï¼šäºŒæ°§åŒ–çŸ½ (SiO2) æº¶è§£åº¦è¨ˆæº«ã€‚\nâ— å±…ç¦®é»æ·±åº¦ï¼šåˆ©ç”¨ç£åŠ›ç•°å¸¸ä¼°ç®—å²©çŸ³å¤±å»ç£æ€§çš„æ·±åº¦ (ç´„ 580Â°C)ã€‚', 
                width: 'full' 
              }
            ]
          }
        ]
      }
    },
    {
      id: 'github-tutorial',
      title: 'Githubå¯¦ä½œ',
      subtitle: 'VERSION CONTROL',
      icon: <Code size={40} />,
      color: 'from-gray-600 to-slate-700',
      description: 'å­¸ç¿’ä½¿ç”¨ Git èˆ‡ GitHub é€²è¡Œç‰ˆæœ¬æ§åˆ¶èˆ‡å”ä½œé–‹ç™¼ã€‚',
      content: { 
        intro: 'æœ¬å–®å…ƒå°‡å¸¶é ˜åŒå­¸é€²å…¥ç¾ä»£åŒ–çš„é–‹ç™¼æµç¨‹ã€‚é€é GitHub Codespaces é›²ç«¯ç’°å¢ƒï¼Œæˆ‘å€‘ç„¡éœ€åœ¨æœ¬åœ°å®‰è£è¤‡é›œçš„åœ°éœ‡å­¸å¥—ä»¶ (ObsPy, PyGMT)ï¼Œå³å¯ç›´æ¥åœ¨ç€è¦½å™¨ä¸­ç·¨å¯« Python ç¨‹å¼ï¼Œä¸¦é€é Pull Request (PR) çš„æ–¹å¼æäº¤ä½œæ¥­ï¼Œé«”é©—é–‹æºç¤¾ç¾¤çš„å”ä½œæ¨¡å¼ã€‚', 
        details: [
          { 
            isProject: true,
            width: 'full',
            title: 'å¯¦ä½œä¸€ï¼šCodespace èˆ‡ GitHub å”ä½œ',
            intro: 'åˆ©ç”¨ GitHub Codespace é›²ç«¯ç’°å¢ƒé€²è¡Œé–‹ç™¼ï¼Œç„¡éœ€é…ç½®æœ¬åœ°ç’°å¢ƒå³å¯é‹ä½œ ObsPy èˆ‡ PyGMTã€‚åŒ…å«ä¸‰å€‹ä¸»è¦éšæ®µï¼š(1) ç’°å¢ƒå»ºç½®ã€(2) ç¨‹å¼æ’°å¯«ã€(3) ä½œæ¥­ç¹³äº¤ã€‚',
            steps: [
              { title: 'æ­¥é©Ÿ 1: ç’°å¢ƒå»ºç½® (Setup)', text: '1. Fork èª²ç¨‹ Repo: é€²å…¥è€å¸«çš„ GitHub Repositoryï¼Œé»æ“Šå³ä¸Šè§’ "Fork" å°‡å°ˆæ¡ˆè¤‡è£½åˆ°è‡ªå·±çš„å¸³è™Ÿä¸‹ã€‚\n2. å•Ÿå‹• Codespace: åœ¨è‡ªå·±çš„ Repo é é¢ï¼Œé»æ“Šç¶ è‰² "<> Code" æŒ‰éˆ•ï¼Œé¸æ“‡ "Create codespace on main"ã€‚\n3. å»ºç«‹ä½œæ¥­æª”æ¡ˆ: ç­‰å¾…ç’°å¢ƒæ¶è¨­å®Œæˆå¾Œï¼Œé€²å…¥ `/hw/hw_01` ç›®éŒ„ï¼Œå»ºç«‹æ–°æª”æ¡ˆ `HW01_å­¸è™Ÿ.ipynb`ã€‚', width: 'half' },
              { title: 'æ­¥é©Ÿ 2: ç¨‹å¼æ’°å¯« (Coding)', text: 'åœ¨ Jupyter Notebook ä¸­åˆ©ç”¨ ObsPy è®€å–åœ°éœ‡æ³¢å½¢ï¼Œæˆ–ä½¿ç”¨ PyGMT ç¹ªè£½åœ°åœ–ã€‚\n\nå®Œæˆå¾Œï¼Œä½¿ç”¨è€å¸«æä¾›çš„è‡ªå‹•åŒ–è…³æœ¬é€²è¡Œ Git æ“ä½œ (Add, Commit, Push):\n\n`sh /workspaces/geophysics-class-2025/./git_all.sh "update HW1"`', width: 'half' },
              { title: 'æ­¥é©Ÿ 3: æäº¤ä½œæ¥­ (Pull Request)', text: '1. ç™¼èµ· PR: å›åˆ° GitHub é é¢ï¼Œé»æ“Š "Compare & pull request"ã€‚\n2. ç¢ºèªåˆ†æ”¯: Base ç‚ºè€å¸«çš„ Repoï¼ŒHead ç‚ºä½ çš„ Fork Repoã€‚\n3. å¡«å¯«å…§å®¹: èªªæ˜ä½œæ¥­ç›®çš„ã€æ–¹æ³•èˆ‡çµæœã€‚\n4. å¯©æ ¸: è€å¸« Review å¾Œæœƒ Approve æˆ– Request Changesï¼Œè‹¥éœ€ä¿®æ”¹ï¼Œåœ¨ Codespace æ›´æ–°ä¸¦åŸ·è¡Œè…³æœ¬å³å¯ã€‚', width: 'full' }
            ],
            gallery: [
              { title: '1. Codespace é–‹ç™¼ç’°å¢ƒ', text: 'å±•ç¤º GitHub Codespace çš„ç·šä¸Š VS Code ä»‹é¢ï¼ŒåŒ…å«å·¦å´æª”æ¡ˆç¸½ç®¡èˆ‡å³å´çš„ Terminal åŸ·è¡Œç•«é¢ã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/github%E5%9C%96%E7%89%872%20(1).png' },
              { title: '2. ObsPy æ³¢å½¢è™•ç†', text: 'ä½¿ç”¨ ObsPy å¥—ä»¶è®€å–ä¸¦ç¹ªè£½çš„åœ°éœ‡æ³¢å½¢ç´€éŒ„ï¼Œé¡¯ç¤ºäº†ä¸åŒæ¸¬ç«™æ¥æ”¶åˆ°çš„åœ°éœ‡è¨Šè™Ÿã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/github%E5%9C%96%E7%89%872%20(2).png' },
              { title: '3. PyGMT åœ°åœ–ç¹ªè£½', text: 'åˆ©ç”¨ PyGMT ç¹ªè£½çš„å°ç£åœ°å€åœ°å½¢åœ–èˆ‡éœ‡å¤®åˆ†ä½ˆï¼Œå±•ç¤ºäº†é«˜å“è³ªçš„åœ°ç†è³‡è¨Šè¦–è¦ºåŒ–æˆæœã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/github%E5%9C%96%E7%89%873.png' }
            ]
          },
          { 
            isProject: true, 
            width: 'full',
            title: 'å¯¦ä½œäºŒï¼šåœ¨ GitHub ä¸Šè£½ä½œ PyGMT æ•™å­¸ç¶²ç«™',
            intro: 'åˆ©ç”¨ GitHub Pages æœå‹™ï¼Œå°‡åŸæœ¬å–®èª¿çš„ Markdown æ–‡ä»¶è½‰æ›ç‚ºç²¾ç¾çš„éœæ…‹ç¶²ç«™ã€‚æœ¬å¯¦ä½œå»ºç«‹äº†ä¸€å€‹ PyGMT çš„å­¸ç¿’ç­†è¨˜ç¶²ç«™ï¼Œåˆ†äº«ç¹ªåœ–ç¶“é©—èˆ‡ç¨‹å¼ç¢¼ç‰‡æ®µã€‚',
            gallery: [
               { title: 'å¯¦ä½œéç¨‹', text: 'é€é VS Code ç·¨è¼¯ Markdown æ–‡ä»¶ï¼Œä¸¦åˆ©ç”¨ MkDocs å¥—ä»¶å°‡ç­†è¨˜è½‰æ›ç‚ºéœæ…‹ç¶²é ï¼Œæœ€å¾Œéƒ¨ç½²è‡³ GitHub Pagesã€‚', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E8%9E%A2%E5%B9%95%E6%93%B7%E5%8F%96%E7%95%AB%E9%9D%A2%202025-11-12%20203009.png' }
            ],
            embed: { title: 'PyGMT å°å®‡å®™ (ç¶²ç«™æˆæœ)', url: 'https://jinjia0618.github.io/pygmy_learning/' }
          },
          {
            id: 'project-3', 
            isProject: true,
            width: 'full',
            title: 'å¯¦ä½œä¸‰ï¼šé‡åŠ›æ¸¬å‹˜ä½œæ¥­-github-pages',
            linkTo: 'gravity-method',
            intro: 'æœ¬ä½œæ¥­æ—¨åœ¨ç·´ç¿’é‡åŠ›ç•°å¸¸çš„è¨ˆç®—æµç¨‹ã€‚å½±ç‰‡ä¸­è©³ç´°è¬›è§£äº†å¦‚ä½•å°‡è§€æ¸¬åˆ°çš„é‡åŠ›æ•¸æ“šï¼Œç¶“éç·¯åº¦ä¿®æ­£ã€è‡ªç”±ç©ºé–“æ ¡æ­£ (FAC) èˆ‡å¸ƒæ ¼æ ¡æ­£ (BC)ï¼Œæœ€çµ‚æ±‚å¾—å¸ƒæ ¼ç•°å¸¸å€¼ã€‚åŒå­¸éœ€å°‡è¨ˆç®—éç¨‹èˆ‡çµæœç¹ªè£½æˆåœ–è¡¨ï¼Œä¸¦è£½ä½œæˆç¶²é å ±å‘Šã€‚',
            questionImage: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E8%9E%A2%E5%B9%95%E6%93%B7%E5%8F%96%E7%95%AB%E9%9D%A2%202025-11-30%20212805.png',
            embed: { title: 'é‡åŠ›æ¸¬å‹˜è¨ˆç®—æˆæœ', url: 'https://jinjia0618.github.io/Homework-7_calculate_gravity/' }
          }
        ] 
      }
    },
    {
      id: 'lecture-series',
      title: 'æ¼”è¬›å°ˆå€',
      subtitle: 'GUEST LECTURE SERIES',
      icon: <Presentation size={40} />,
      color: 'from-purple-500 to-indigo-600',
      description: 'é‚€è«‹é ˜åŸŸå°ˆå®¶åˆ†äº«å‰æ²¿ç ”ç©¶ï¼šåœ°éœ‡å±¤ææˆåƒã€å¯¦å‹™è§€æ¸¬èˆ‡ AI åœ°éœ‡å­¸ã€‚',
      content: {
        intro: 'æœ¬å°ˆå€æ”¶éŒ„äº†å­¸æœŸä¸­é‚€è«‹çš„ä¸‰ä½å‚‘å‡ºåœ°çƒç‰©ç†å­¸å®¶æ¼”è¬›ç²¾è¯ã€‚é€™äº›æ¼”è¬›æ¶µè“‹äº†å¾ç†è«–æ¨¡æ“¬åˆ°é‡å¤–å¯¦å‹™ï¼Œå†åˆ°æœ€å‰æ²¿çš„ AI æ‡‰ç”¨ï¼Œå±•ç¾äº†åœ°çƒç‰©ç†å­¸å¤šå…ƒçš„ç™¼å±•é¢å‘ã€‚',
        details: []
      },
      subTopics: [
        {
          id: 'lecture-kan',
          title: 'ç”˜ç¦®å‹åšå£«',
          subtitle: 'EARTHQUAKE TOMOGRAPHY',
          icon: <Activity size={40} />,
          color: 'from-blue-500 to-cyan-500',
          description: 'åœ°éœ‡å±¤ææˆåƒèˆ‡åœ°çƒå…§éƒ¨æ§‹é€ ï¼šå¾ç†è«–åˆ°æ‡‰ç”¨ã€‚',
          content: {
            intro: 'ç‰¹é‚€ç”˜ç¦®å‹åšå£«åˆ†äº«åœ°çƒç‰©ç†é ˜åŸŸçš„å‰æ²¿ç ”ç©¶èˆ‡ç¶“é©—ï¼Œæ·±å…¥æ·ºå‡ºåœ°ä»‹ç´¹äº†åœ°éœ‡å±¤ææˆåƒåœ¨ç¾ä»£ç§‘å­¸ä¸­çš„æ‡‰ç”¨ã€‚',
            details: [
              { 
                isProject: true,
                width: 'full',
                title: 'æ¼”è¬›é‡é»ï¼šåœ°éœ‡å±¤ææˆåƒ',
                intro: 'åˆ©ç”¨åœ°éœ‡æ³¢é€Ÿåº¦çš„è®ŠåŒ–ä¾†ã€Œæ–·å±¤æƒæã€åœ°çƒå…§éƒ¨ï¼Œæ­ç¤ºäº†éš±æ²’å¸¶èˆ‡æ¿å¡Šæ§‹é€ çš„æ·±éƒ¨å¹¾ä½•å½¢ç‹€ã€‚',
                steps: [
                  { title: 'å¿ƒå¾—åæ€ï¼šå¾ç½å®³æ¨¡æ“¬åˆ°åœ°çƒç‰©ç†æ©Ÿåˆ¶', text: 'é«˜ä¸­æ™‚æœŸçš„ç ”ç©¶å¤šèšç„¦æ–¼ç½å®³æ¨¡æ“¬ï¼Œé€²å…¥å¤§å­¸å¾Œæ¥è§¸åœ°çƒç‰©ç†ï¼Œæ‰ç™¼ç¾èƒŒå¾Œéœ€è¦æ·±åšçš„æ•¸å­¸èˆ‡ç¨‹å¼åŸºç¤ã€‚ç”˜åšå£«çš„æ¼”è¬›å±•ç¾äº†åœ°éœ‡å±¤ææˆåƒçš„è¤‡é›œæ€§ï¼Œé›–ç„¶ç›®å‰å°æ³¢å‹•æ–¹ç¨‹èˆ‡åæ¼”ç®—æ³•æ„Ÿåˆ°åƒåŠ›ï¼Œä½†åšå£«åˆ†äº«çš„æ±‚å­¸æ­·ç¨‹â€”â€”ã€èŠ±è²»æ•¸å¹´ä¸€é»ä¸€æ»´ç´¯ç©ã€â€”â€”çµ¦äº†æˆ‘å¾ˆå¤§çš„é¼“èˆã€‚é€™å ´æ¼”è¬›ä¸åƒ…æ˜¯çŸ¥è­˜çš„å‚³éï¼Œæ›´æ˜¯ä¸€åŠ‘å¼·å¿ƒé‡ï¼Œæé†’æˆ‘å€‘åœ¨å­¸è¡“é“è·¯ä¸Šï¼Œå …æŒæ¯”å¤©è³¦æ›´é‡è¦ã€‚', width: 'full' }
                ],
                gallery: [
                  { title: 'åœ–è¡¨ 1: åœ°éœ‡æ³¢é™°å½±å¸¶ (Shadow Zone)', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E6%BC%94%E8%AC%9B%E5%9C%96%E7%89%871.png', text: 'æ­¤åœ–å±•ç¤ºäº†åœ°éœ‡æ³¢åœ¨åœ°çƒå…§éƒ¨çš„å‚³æ’­è·¯å¾‘ã€‚ç•¶åœ°éœ‡ç™¼ç”Ÿæ™‚ï¼Œæ³¢å‚³éè‡³æ¶²æ…‹å¤–æ ¸ (Liquid Outer Core)ï¼š\nâ— Sæ³¢ (å‰ªåŠ›æ³¢)ï¼šç„¡æ³•ç©¿é€æ¶²é«”ï¼Œå› æ­¤åœ¨éœ‡å¤®è§’ 103Â° ä¹‹å¾Œå®Œå…¨æ¶ˆå¤±ã€‚\nâ— Pæ³¢ (å£“åŠ›æ³¢)ï¼šé›–ç„¶èƒ½ç©¿é€ï¼Œä½†å› åœ¨æ¶²é«”ä¸­é€Ÿåº¦å¤§å¹…ä¸‹é™è€Œç”¢ç”ŸåŠ‡çƒˆæŠ˜å°„ã€‚\né€™å°è‡´åœ¨éœ‡å¤®è§’ 103Â° è‡³ 142Â° ä¹‹é–“ï¼Œåœ°è¡¨æ¥æ”¶ä¸åˆ°ç›´é”çš„ P æ³¢ã€‚é€™äº›ã€Œé™°å½±å¸¶ã€çš„å­˜åœ¨ï¼Œæ˜¯ç§‘å­¸å®¶è­‰å¯¦åœ°çƒæ“æœ‰ã€Œæ¶²æ…‹å¤–æ ¸ã€çš„é—œéµéµè­‰ã€‚' },
                  { title: 'åœ–è¡¨ 2: ä»‹è³ªè¤‡é›œåº¦èˆ‡æ³¢å½¢ (Wave Complexity)', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E6%BC%94%E8%AC%9B%E5%9C%96%E7%89%872.png', text: 'é€™å¼µåœ–èªªæ˜äº†åœ°ä¸‹ä»‹è³ªçš„æ§‹é€ å¦‚ä½•å½±éŸ¿åœ°éœ‡æ³¢ç´€éŒ„ (Seismogram)ï¼š\n1. å‡è³ªä»‹è³ª (Homogeneous)ï¼šæ³¢è·¯å¾‘å–®ç´”ï¼Œæ³¢å½¢ä¹¾æ·¨ç°¡å–®ã€‚\n2. å±¤ç‹€ä»‹è³ª (Layered)ï¼šæ³¢åœ¨å±¤ç•Œé¢ç”¢ç”Ÿå¤šæ¬¡åå°„èˆ‡æŠ˜å°„ï¼Œç´€éŒ„é–‹å§‹è®Šé•·ã€‚\n3. ç•°è³ªä»‹è³ª (Heterogeneous)ï¼šçœŸå¯¦åœ°å±¤å……æ»¿ä¸å‡å‹»é«” (å¦‚å²©å¡Šã€è£‚éš™)ï¼Œå°è‡´æ³¢ç”¢ç”Ÿå¼·çƒˆæ•£å°„ (Scattering)ã€‚é€™è§£é‡‹äº†ç‚ºä½•çœŸå¯¦çš„åœ°éœ‡ç´€éŒ„å¾€å¾€å……æ»¿äº†è¤‡é›œçš„ã€Œå°¾æ³¢ (Coda Waves)ã€èˆ‡é›œè¨Šï¼Œä¹Ÿå‡¸é¡¯äº†è¨Šè™Ÿè™•ç†åœ¨æ¢å‹˜ä¸­çš„é‡è¦æ€§ã€‚' },
                  { title: 'åœ–è¡¨ 3: å°ç£æ¿å¡Šéš±æ²’è£‚å£ (Slab Gap)', image: 'https://raw.githubusercontent.com/JinJia0618/geophysic-final-report/main/%E6%BC%94%E8%AC%9B%E5%9C%96%E7%89%873.png', text: 'é€™å¼µåœ–èšç„¦æ–¼å°ç£æ±åŒ—éƒ¨æ¥µå…¶è¤‡é›œçš„æ¿å¡Šæ§‹é€ ã€‚å°ç£ä½æ–¼æ­äºæ¿å¡Š (Eurasian Plate) èˆ‡è²å¾‹è³“æµ·æ¿å¡Š (Philippine Sea Plate) çš„äº¤ç•Œï¼Œé€™å…©å€‹æ¿å¡Šç™¼ç”Ÿäº†ã€Œéš±æ²’æ¥µæ€§åè½‰ (Subduction Polarity Reversal)ã€ï¼š\nâ— å—é‚Šï¼šè²å¾‹è³“æµ·æ¿å¡Šéš±æ²’è‡³æ­äºæ¿å¡Šä¹‹ä¸‹ã€‚\nâ— æ±åŒ—é‚Šï¼šæ­äºæ¿å¡Šéš±æ²’è‡³è²å¾‹è³“æµ·æ¿å¡Šä¹‹ä¸‹ã€‚\né€™ç¨®æ’•è£‚èˆ‡æ‰­è½‰ï¼Œå°è‡´åœ¨èŠ±è“®å¤–æµ·æ·±è™•ï¼Œéš±æ²’çš„æ¿å¡Šå‡ºç¾äº†ä¸€å€‹ã€Œè£‚å£ (Slab Gap)ã€ã€‚é€™å€‹ç‰¹æ®Šçš„æ§‹é€ é€šé“ï¼Œå…è¨±æ·±éƒ¨ç†±ç‰©è³ªä¸Šæ¹§ï¼Œæ˜¯å½¢æˆé¾œå±±å³¶èˆ‡å¤§å±¯ç«å±±ç¾¤çš„æ½›åœ¨ç†±æºæ©Ÿåˆ¶ã€‚' }
                ]
              }
            ]
          }
        },
        {
          id: 'lecture-huang',
          title: 'é»ƒæœ‰å¿—åšå£«',
          subtitle: 'VOLCANO & EARTHQUAKE',
          icon: <Mountain size={40} />,
          color: 'from-orange-500 to-red-500',
          description: 'å¾é˜¿è˜‡ç«å±±ï¼Œç†Šæœ¬åœ°éœ‡åˆ°å˜‰å—åœ°éœ‡è§€æ¸¬ï¼šè«‡æ—…æ—¥ç¶“é©—èˆ‡åœ°çƒç‰©ç†å­¸çš„å¯¦éš›æ‡‰ç”¨ã€‚',
          content: {
            intro: 'é»ƒæœ‰å¿—åšå£«åˆ†äº«ä»–åœ¨æ—¥æœ¬é˜¿è˜‡ç«å±±çš„å¯¦åœ°è§€æ¸¬ç¶“é©—ï¼Œä¸¦æ¢è¨å¦‚ä½•å°‡é€™äº›ç¶“é©—æ‡‰ç”¨æ–¼å°ç£å˜‰å—åœ°å€çš„åœ°éœ‡ç›£æ¸¬ã€‚',
            details: [
              { 
                isProject: true,
                width: 'full',
                title: 'æ¼”è¬›é‡é»ï¼šç«å±±èˆ‡åœ°éœ‡è§€æ¸¬',
                intro: 'çµåˆæ—…æ—¥ç¶“é©—ï¼Œæ¢è¨ç«å±±åœ°éœ‡çš„ç‰¹æ®Šæ€§èˆ‡é˜²ç½å¯¦å‹™æ‡‰ç”¨ã€‚',
                steps: [
                  { title: 'æ¼”è¬›æ‘˜è¦', text: 'ï¼ˆå…§å®¹å»ºç½®ä¸­...ï¼‰æœ¬æ¼”è¬›å°‡çµåˆé»ƒåšå£«åœ¨æ—¥æœ¬é˜¿è˜‡ç«å±±çš„å¯¦åœ°è§€æ¸¬ç¶“é©—ï¼Œæ¢è¨ç«å±±åœ°éœ‡çš„ç‰¹æ€§ï¼Œä¸¦å°‡å…¶ç¶“é©—æ‡‰ç”¨æ–¼å°ç£å˜‰å—åœ°å€çš„åœ°éœ‡ç›£æ¸¬èˆ‡é˜²ç½å¯¦å‹™ã€‚', width: 'full' }
                ]
              }
            ]
          }
        },
        {
          id: 'lecture-liao',
          title: 'å»–å‹¿æ¸åšå£«',
          subtitle: 'AI SEISMOLOGY',
          icon: <Monitor size={40} />,
          color: 'from-emerald-500 to-teal-500',
          description: 'AI é‡ä¸Šåœ°éœ‡å­¸ï¼šå¾æ·±åº¦å­¸ç¿’åˆ°å…¨è‡ªå‹•åŒ–ç›£æ¸¬ã€‚',
          content: {
            intro: 'å»–å‹¿æ¸åšå£«å¸¶é ˜æˆ‘å€‘é€²å…¥ AI åœ°éœ‡å­¸çš„ä¸–ç•Œï¼Œæ¢ç´¢å¦‚ä½•åˆ©ç”¨æ·±åº¦å­¸ç¿’æŠ€è¡“é©æ–°å‚³çµ±çš„åœ°éœ‡ç›£æ¸¬æµç¨‹ã€‚',
            details: [
              { 
                isProject: true,
                width: 'full',
                title: 'æ¼”è¬›é‡é»ï¼šAI åœ°éœ‡å­¸',
                intro: 'éš¨è‘—äººå·¥æ™ºæ…§æŠ€è¡“çš„é£›é€Ÿç™¼å±•ï¼Œåœ°éœ‡å­¸æ­£è¿ä¾†ä¸€å ´é©å‘½ã€‚',
                steps: [
                  { title: 'æ¼”è¬›æ‘˜è¦', text: 'ï¼ˆå…§å®¹å»ºç½®ä¸­...ï¼‰å»–åšå£«å°‡åˆ†äº«å¦‚ä½•åˆ©ç”¨æ·±åº¦å­¸ç¿’æ¨¡å‹ï¼ˆå¦‚ CNN, RNNï¼‰ä¾†è‡ªå‹•åµæ¸¬å¾®éœ‡ã€è®€å–æ³¢ç›¸ (Phase Picking) ä»¥åŠé€²è¡Œå³æ™‚çš„é è­¦ç³»çµ±é–‹ç™¼ã€‚', width: 'full' }
                ]
              }
            ]
          }
        }
      ]
    }
  ];

  const [selectedSubTopic, setSelectedSubTopic] = useState(null);

  const handleTopicClick = (topic, sectionId = null) => {
    setTransitionTopic(topic);
    setTimeout(() => {
      setSelectedTopic(topic);
      setSelectedSubTopic(null); // Reset sub-topic
      window.scrollTo(0, 0);
      if (sectionId) {
        setTargetSectionId(sectionId);
      }
      setTimeout(() => {
        setTransitionTopic(null);
      }, 200);
    }, 1100);
  };

  const handleSubTopicClick = (subTopic) => {
    setTransitionTopic(subTopic);
    setTimeout(() => {
      setSelectedSubTopic(subTopic);
      window.scrollTo(0, 0);
      setTimeout(() => {
        setTransitionTopic(null);
      }, 200);
    }, 1100);
  };

  const handleBack = () => {
    setIsAnimating(true);
    setTimeout(() => {
      if (selectedSubTopic) {
        setSelectedSubTopic(null); // Back to sub-menu
      } else {
        setSelectedTopic(null); // Back to main menu
      }
      setIsAnimating(false);
    }, 300);
  };

  // Scroll to section effect
  useEffect(() => {
    // Scroll handling for sub-topics if needed in future
  }, [selectedTopic, selectedSubTopic]);

  // Determine which content to show
  const activeTopic = selectedSubTopic || selectedTopic;

  return (
    <div className="min-h-screen bg-gradient-to-br from-slate-900 via-[#0f172a] to-[#1e3a8a] text-slate-100 font-sans selection:bg-blue-500 selection:text-white overflow-x-hidden">
      
      <style>{`
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes spinSlow { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        
        .animate-fade-in { animation: fadeIn 1s ease-out forwards; }
        .animate-fade-in-down { animation: fadeInDown 1s ease-out forwards; }
        .animate-fade-in-up { animation: fadeInUp 1s ease-out forwards; }
        .animate-spin-slow { animation: spinSlow 8s linear infinite; }
      `}</style>

      {showIntro && <IntroAnimation onComplete={() => setShowIntro(false)} />}
      <TitleTransitionOverlay topic={transitionTopic} />

      {/* Background Elements ... */}
      <div className="fixed inset-0 z-0 pointer-events-none mix-blend-screen opacity-30">
        <div className="absolute top-[-20%] left-[-10%] w-[800px] h-[800px] bg-blue-500/20 rounded-full blur-[120px] animate-pulse duration-[15s]"></div>
        <div className="absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-purple-500/20 rounded-full blur-[120px] animate-pulse duration-[12s]"></div>
        <div className="absolute top-[40%] left-[50%] w-[400px] h-[400px] bg-teal-500/10 rounded-full blur-[100px] transform -translate-x-1/2"></div>
      </div>

      {/* === ç¨ç«‹å‡ºä¾†çš„æ‡¸æµ®æŒ‰éˆ•å±¤ (Floating Buttons Layer) === */}
      {/* ç§»åˆ°æœ€å¤–å±¤ï¼Œä¸å— transition-all scale å½±éŸ¿ï¼Œç¢ºä¿ fixed å®šä½æ­£ç¢º */}
      {selectedTopic && !showIntro && !isAnimating && (
        <div className="fixed inset-0 pointer-events-none z-[100] animate-fade-in">
          
          {/* å·¦ä¸‹è§’ï¼šå›åˆ°é ‚éƒ¨ */}
          <div className="absolute bottom-6 left-6 pointer-events-auto">
            <button 
              onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })} 
              className="p-3 md:p-4 rounded-full bg-slate-800/90 backdrop-blur-xl border border-white/20 text-slate-300 hover:text-white shadow-[0_0_20px_rgba(0,0,0,0.5)] hover:bg-slate-700 hover:border-blue-400 transition-all group hover:-translate-y-1" 
              title="å›åˆ°é ‚éƒ¨"
            >
              <ArrowUp size={24} className="group-hover:scale-110 transition-transform" />
            </button>
          </div>

          {/* å³ä¸‹è§’ï¼šå›ä¸»é¸å–®/å›ä¸Šä¸€é  */}
          <div className="absolute bottom-6 right-6 pointer-events-auto">
            <button 
              onClick={() => { 
                  // çµ±ä¸€è¡Œç‚ºï¼šç›´æ¥å›ä¸»é¸å–® (Reset all)
                  // è‹¥å¸Œæœ›æœ‰å±¤æ¬¡ï¼Œå¯æ”¹ç”¨ handleBack
                  setIsAnimating(true);
                  setTimeout(() => {
                      setSelectedTopic(null);
                      setSelectedSubTopic(null);
                      setIsAnimating(false);
                  }, 300);
              }} 
              className="flex items-center gap-2 px-5 py-3 md:px-6 md:py-4 rounded-full bg-blue-600/90 hover:bg-blue-500 text-white shadow-[0_0_20px_rgba(37,99,235,0.5)] hover:shadow-[0_0_30px_rgba(37,99,235,0.7)] backdrop-blur-xl border border-white/10 transition-all hover:scale-105 group hover:-translate-y-1"
            >
              <span className="font-bold tracking-wider text-sm md:text-base hidden sm:inline">å›ä¸»é¸å–®</span>
              <Home size={20} className="group-hover:scale-110 transition-transform" />
            </button>
          </div>
        </div>
      )}

      <div className={`relative z-10 transition-all duration-1000 ${showIntro ? 'opacity-0 scale-95 blur-sm' : 'opacity-100 scale-100 blur-0'} ${isAnimating ? 'opacity-0 scale-95' : 'opacity-100 scale-100'}`}>
        
        {/* === å€‹äººè³‡è¨Šæ¬„ä½ === */}
        {!showIntro && (
          <div className={`absolute left-6 md:left-8 z-50 flex flex-col items-start animate-fade-in transition-all duration-500 ${selectedTopic ? 'top-24 md:top-32' : 'top-6 md:top-8'}`} style={{ animationDelay: '0.5s' }}>
            <div className="flex items-center gap-2 mb-1">
              <div className="w-2 h-2 bg-blue-400 rounded-full animate-ping"></div>
              <span className="text-[10px] font-mono text-blue-300 tracking-[0.2em] uppercase">System Active</span>
            </div>
            <div className="relative group cursor-default">
              <div className="absolute -left-3 top-0 bottom-0 w-[2px] bg-gradient-to-b from-blue-400 via-cyan-300 to-transparent"></div>
              <div className="pl-2">
                <h3 className="text-white font-bold text-xl md:text-2xl tracking-widest leading-none font-mono drop-shadow-[0_0_10px_rgba(96,165,250,0.8)]">
                  U11310017
                </h3>
                <div className="flex items-center gap-2 mt-1">
                  <span className="px-1.5 py-0.5 rounded bg-blue-500/30 border border-blue-400/50 text-[10px] text-blue-100 font-mono">STUDENT</span>
                  <p className="text-blue-200 text-sm font-medium tracking-wider">åœ°ç”Ÿç³»äºŒ é»ƒé–å®¶</p>
                </div>
              </div>
            </div>
          </div>
        )}

        {/* === è¦–åœ–é‚è¼¯ï¼šé¦–é ç¶²æ ¼ (Main Menu) === */}
        {!selectedTopic ? (
          <div className="container mx-auto px-6 py-12 flex flex-col items-center justify-center min-h-screen relative">
            
            {/* Header */}
            <header className="text-center mb-20 space-y-6 animate-fade-in-down relative mt-20 md:mt-0">
              <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 border border-white/20 backdrop-blur-md text-xs font-medium text-blue-200 tracking-[0.2em] mb-4 shadow-[0_0_20px_rgba(59,130,246,0.3)] hover:bg-white/20 transition-colors cursor-default">
                <Globe size={14} className="animate-spin-slow" />
                GEOPHYSICS 101
              </div>
              
              <div className="relative">
                <h1 className="text-5xl md:text-8xl font-black tracking-tight text-transparent bg-clip-text bg-gradient-to-b from-white via-blue-100 to-slate-400 drop-shadow-2xl">
                  åœ°çƒç‰©ç†é€šè«–
                </h1>
                <div className="absolute -inset-x-20 -inset-y-10 bg-blue-500/20 blur-[80px] -z-10 rounded-full opacity-40"></div>
              </div>

              <p className="text-lg md:text-xl text-blue-200/80 max-w-2xl mx-auto leading-relaxed font-light tracking-wide">
                æ¢ç´¢åœ°çƒå…§éƒ¨çš„å¥§ç§˜ Â· <span className="text-blue-300 font-medium">éœ‡æ³¢</span> Â· <span className="text-emerald-300 font-medium">é‡åŠ›</span> Â· <span className="text-purple-300 font-medium">ç£å ´</span> Â· <span className="text-orange-300 font-medium">ç†±æµ</span>
              </p>
            </header>

            {/* Introduction Block ... */}
            <div className="w-full max-w-5xl px-6 mb-16 animate-fade-in-up" style={{ animationDelay: '0.2s' }}>
              <div className="relative bg-slate-800/30 backdrop-blur-sm border border-white/10 rounded-3xl p-8 md:p-10 overflow-hidden group hover:bg-slate-800/40 transition-colors duration-500">
                <div className="absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b from-blue-400 via-purple-400 to-orange-400"></div>
                <div className="absolute -right-10 -top-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-all duration-1000"></div>
                
                <h3 className="text-2xl font-bold text-white mb-6 flex items-center gap-3">
                  <BookOpen size={24} className="text-blue-400" />
                  é—œæ–¼åœ°çƒç‰©ç†é€šè«– (About General Geophysics)
                </h3>
                
                <p className="text-slate-300 text-base md:text-lg leading-8 md:leading-9 font-light text-justify">
                  <strong className="text-blue-200 font-medium">åœ°çƒç‰©ç†å­¸</strong> æ˜¯ä¸€é–€åˆ©ç”¨ç‰©ç†å­¸åŸç†ä¾†é€è¦–åœ°çƒå…§éƒ¨çš„ç§‘å­¸ã€‚å°±åƒé†«ç”Ÿåˆ©ç”¨ X å…‰èˆ‡è¶…éŸ³æ³¢æª¢æŸ¥äººé«”ä¸€æ¨£ï¼Œåœ°çƒç‰©ç†å­¸å®¶é€éæ¸¬é‡
                  <span className="inline-flex items-center mx-1 px-2 py-0.5 rounded-md bg-blue-500/10 text-blue-300 border border-blue-500/20 text-sm align-middle font-normal transition-colors hover:bg-blue-500/20"><Activity size={14} className="mr-1.5"/> åœ°éœ‡æ³¢</span>ã€
                  <span className="inline-flex items-center mx-1 px-2 py-0.5 rounded-md bg-emerald-500/10 text-emerald-300 border border-emerald-500/20 text-sm align-middle font-normal transition-colors hover:bg-emerald-500/20"><Scale size={14} className="mr-1.5"/> é‡åŠ›å ´</span>ã€
                  <span className="inline-flex items-center mx-1 px-2 py-0.5 rounded-md bg-purple-500/10 text-purple-300 border border-purple-500/20 text-sm align-middle font-normal transition-colors hover:bg-purple-500/20"><Magnet size={14} className="mr-1.5"/> ç£å ´</span> èˆ‡
                  <span className="inline-flex items-center mx-1 px-2 py-0.5 rounded-md bg-orange-500/10 text-orange-300 border border-orange-500/20 text-sm align-middle font-normal transition-colors hover:bg-orange-500/20"><Thermometer size={14} className="mr-1.5"/> ç†±æµ</span>
                  ç­‰ç‰©ç†è¨Šè™Ÿï¼Œåœ¨ä¸ç ´å£åœ°è¡¨çš„æƒ…æ³ä¸‹ï¼Œæ¨æ–·åœ°ä¸‹çš„ç‰©è³ªçµ„æˆã€æ§‹é€ èˆ‡å‹•åŠ›æ©Ÿåˆ¶ã€‚æœ¬å¹³å°æ•´åˆäº†èª²ç¨‹ä¸­çš„é—œéµå¯¦é©—èˆ‡æ¨¡æ“¬å·¥å…·ï¼Œå¸¶é ˜æ‚¨å¾æ•¸æ“šä¸­çœ‹è¦‹åœ°çƒçš„çœŸå¯¦é¢è²Œã€‚
                </p>
              </div>
            </div>

            {/* Main Grid */}
            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 w-full max-w-7xl px-6">
              {topics.map((topic) => (
                <div 
                  key={topic.id}
                  onClick={() => handleTopicClick(topic)}
                  className={`group relative bg-slate-800/40 backdrop-blur-xl border border-white/10 rounded-[2rem] p-8 cursor-pointer transition-all duration-500 hover:-translate-y-2 hover:bg-slate-800/60 hover:border-white/30 overflow-hidden w-full`}
                >
                  <div className={`absolute inset-0 bg-gradient-to-br ${topic.color} opacity-0 group-hover:opacity-20 transition-opacity duration-500 blur-2xl`}></div>
                  <div className="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-white/10 rounded-tl-[2rem] group-hover:border-white/40 transition-colors"></div>
                  <div className="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-white/10 rounded-br-[2rem] group-hover:border-white/40 transition-colors"></div>

                  <div className="relative flex items-start justify-between z-10">
                    <div className={`p-5 rounded-2xl bg-gradient-to-br ${topic.color} shadow-lg group-hover:scale-110 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all duration-500 ring-1 ring-white/20`}>
                      {topic.icon}
                    </div>
                    <div className="p-2 rounded-full bg-white/5 text-slate-400 group-hover:text-white group-hover:bg-white/20 transition-all duration-300">
                      <ArrowUpRight size={24} className="transform group-hover:rotate-45 transition-transform duration-500" />
                    </div>
                  </div>
                  
                  <div className="mt-8 relative z-10">
                    <h3 className="text-2xl font-bold text-white mb-2 group-hover:text-transparent bg-clip-text bg-gradient-to-r group-hover:from-white group-hover:to-blue-200 transition-all">
                      {topic.title}
                    </h3>
                    <p className="text-xs font-bold text-slate-400 uppercase tracking-[0.15em] mb-4 flex items-center gap-2">
                      <span className={`w-1.5 h-1.5 rounded-full bg-gradient-to-r ${topic.color}`}></span>
                      {topic.subtitle}
                    </p>
                    <p className="text-slate-300 leading-relaxed border-t border-white/10 pt-4 group-hover:border-white/30 transition-colors line-clamp-3">
                      {topic.description}
                    </p>
                  </div>
                </div>
              ))}
            </div>

            <footer className="mt-24 text-slate-500 text-xs font-mono tracking-widest uppercase pb-10 hover:text-blue-300 transition-colors cursor-default">
              Â© 2024 Geophysics Term Project | Department of Earth and Life Science
            </footer>
          </div>
        ) : (
          
          /* === è¦–åœ–é‚è¼¯ï¼šè©³ç´°å…§å®¹æˆ–æ¬¡ç´šé¸å–® (Detail or Sub-Menu) === */
          <div className="min-h-screen bg-[#0f172a] relative"> 
            
            {/* === ç‰¹æ®Šæ¨¡å¼ï¼šæ¬¡ç´šé¸å–® (Sub-Menu for Lectures) === */}
            {selectedTopic.subTopics && !selectedSubTopic ? (
              <>
                <nav className="sticky top-0 z-50 bg-[#0f172a]/80 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between">
                  <button onClick={handleBack} className="flex items-center gap-2 text-slate-400 hover:text-white transition-colors group">
                    <div className="p-2 rounded-full bg-white/5 group-hover:bg-white/10 border border-white/5 group-hover:border-white/20 transition-all"><ChevronLeft size={20} /></div>
                    <span className="font-medium tracking-wide text-sm">BACK TO MENU</span>
                  </button>
                  <h2 className="text-lg font-bold text-white hidden md:block tracking-wider">{selectedTopic.title}</h2>
                  <div className={`w-8 h-8 rounded-full bg-gradient-to-br ${selectedTopic.color} ring-4 ring-white/10 shadow-[0_0_15px_rgba(255,255,255,0.2)]`}></div>
                </nav>

                <div className="container mx-auto px-6 py-12 flex flex-col items-center">
                  <header className="text-center mb-16 space-y-6 animate-fade-in-down">
                    <div className={`inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/10 border border-white/20 backdrop-blur-md text-xs font-medium tracking-[0.2em] mb-4 text-slate-300`}>
                      {selectedTopic.subtitle}
                    </div>
                    <h1 className="text-4xl md:text-6xl font-black text-white drop-shadow-2xl">{selectedTopic.title}</h1>
                    <p className="text-lg text-slate-400 max-w-2xl mx-auto leading-relaxed">{selectedTopic.content.intro}</p>
                  </header>

                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 w-full max-w-7xl">
                    {selectedTopic.subTopics.map((subTopic) => (
                      <div 
                        key={subTopic.id}
                        onClick={() => handleSubTopicClick(subTopic)}
                        className={`group relative bg-slate-800/40 backdrop-blur-xl border border-white/10 rounded-[2rem] p-8 cursor-pointer transition-all duration-500 hover:-translate-y-2 hover:bg-slate-800/60 hover:border-white/30 overflow-hidden w-full`}
                      >
                        <div className={`absolute inset-0 bg-gradient-to-br ${subTopic.color} opacity-0 group-hover:opacity-20 transition-opacity duration-500 blur-2xl`}></div>
                        <div className="absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-white/10 rounded-tl-[2rem] group-hover:border-white/40 transition-colors"></div>
                        <div className="absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-white/10 rounded-br-[2rem] group-hover:border-white/40 transition-colors"></div>

                        <div className="relative flex items-start justify-between z-10">
                          <div className={`p-5 rounded-2xl bg-gradient-to-br ${subTopic.color} shadow-lg group-hover:scale-110 group-hover:shadow-[0_0_30px_rgba(255,255,255,0.3)] transition-all duration-500 ring-1 ring-white/20`}>
                            {subTopic.icon}
                          </div>
                          <div className="p-2 rounded-full bg-white/5 text-slate-400 group-hover:text-white group-hover:bg-white/20 transition-all duration-300">
                            <ArrowUpRight size={24} className="transform group-hover:rotate-45 transition-transform duration-500" />
                          </div>
                        </div>
                        
                        <div className="mt-8 relative z-10">
                          <h3 className="text-2xl font-bold text-white mb-2 group-hover:text-transparent bg-clip-text bg-gradient-to-r group-hover:from-white group-hover:to-blue-200 transition-all">
                            {subTopic.title}
                          </h3>
                          <p className="text-xs font-bold text-slate-400 uppercase tracking-[0.15em] mb-4 flex items-center gap-2">
                            <span className={`w-1.5 h-1.5 rounded-full bg-gradient-to-r ${subTopic.color}`}></span>
                            {subTopic.subtitle}
                          </p>
                          <p className="text-slate-300 leading-relaxed border-t border-white/10 pt-4 group-hover:border-white/30 transition-colors line-clamp-3">
                            {subTopic.description}
                          </p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </>
            ) : (
              
              /* === ä¸€èˆ¬è©³ç´°é é¢ (Standard Detail View) === */
              <>
                <nav className="sticky top-0 z-50 bg-[#0f172a]/80 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between">
                  <button 
                    onClick={handleBack}
                    className="flex items-center gap-2 text-slate-400 hover:text-white transition-colors group"
                  >
                    <div className="p-2 rounded-full bg-white/5 group-hover:bg-white/10 border border-white/5 group-hover:border-white/20 transition-all">
                      <ChevronLeft size={20} />
                    </div>
                    <span className="font-medium tracking-wide text-sm">{selectedSubTopic ? 'BACK TO LECTURES' : 'BACK TO MENU'}</span>
                  </button>
                  <h2 className="text-lg font-bold text-white hidden md:block tracking-wider">{activeTopic.title}</h2>
                  <div className={`w-8 h-8 rounded-full bg-gradient-to-br ${activeTopic.color} ring-4 ring-white/10 shadow-[0_0_15px_rgba(255,255,255,0.2)]`}></div>
                </nav>

                <div className="container mx-auto px-6 py-10 max-w-5xl pb-32">
                  <div className="mb-12 flex flex-col md:flex-row gap-8 items-center animate-fade-in-up">
                    <div className={`p-8 rounded-[2rem] bg-gradient-to-br ${activeTopic.color} shadow-2xl ring-8 ring-white/5`}>
                      {React.cloneElement(activeTopic.icon, { size: 64, className: "text-white drop-shadow-lg" })}
                    </div>
                    <div className="flex-1 text-center md:text-left">
                      <h1 className="text-4xl md:text-6xl font-black text-white mb-3 tracking-tight">{activeTopic.title}</h1>
                      <p className="text-xl text-slate-400 uppercase tracking-[0.2em] font-light">{activeTopic.subtitle}</p>
                    </div>
                  </div>

                  {activeTopic.content.intro && (
                    <div className="bg-slate-800/40 backdrop-blur-md rounded-3xl p-8 border border-white/10 shadow-lg mb-8">
                      <div className="flex items-center gap-3 mb-6">
                        {/* Dynamic Icon Selection for Intro Header */}
                        {activeTopic.id === 'seismic-experiment' ? <ClipboardList className="text-blue-400" /> : <BookOpen className="text-blue-400" />}
                        <h3 className="text-2xl font-bold text-white">æ‘˜è¦</h3>
                      </div>
                      <p className="text-lg text-slate-300 leading-8">{activeTopic.content.intro}</p>
                    </div>
                  )}

                  <div className="grid grid-cols-1 xl:grid-cols-2 gap-6 auto-rows-min">
                    {activeTopic.content.details.map((item, idx) => (
                      <div key={idx} id={item.id} className={`bg-slate-800/20 rounded-2xl p-6 border border-white/5 hover:border-white/20 transition-all hover:bg-slate-800/40 overflow-hidden group/card ${item.width === 'full' ? 'xl:col-span-2' : 'xl:col-span-1'}`}>
                        {/* é€™è£¡è¤‡ç”¨æ‰€æœ‰æ¸²æŸ“é‚è¼¯ (isNav, isFreeAirSim, isProject, etc.) */}
                        {/* Note: I'm reusing the exact same rendering logic block as before to ensure full compatibility */}
                        {item.isNav ? (
                          <button onClick={(e) => { e.stopPropagation(); const target = topics.find(t => t.id === item.linkTo); if(target) handleTopicClick(target, item.targetId); }} className="w-full flex items-center justify-between p-6 rounded-2xl bg-gradient-to-r from-blue-600/20 to-purple-600/20 hover:from-blue-600/40 hover:to-purple-600/40 border border-blue-500/30 group/btn transition-all duration-300 shadow-lg hover:shadow-blue-500/20">
                            <div className="flex items-center gap-4"><div className="p-3 rounded-xl bg-blue-500/20 text-blue-300 border border-blue-500/30 group-hover/btn:scale-110 transition-transform">{item.icon}</div><div className="text-left"><h4 className="text-lg font-bold text-white mb-1 group-hover/btn:text-blue-300 transition-colors">{item.title}</h4><p className="text-xs text-slate-400">é»æ“Šè·³è½‰è‡³ç›¸é—œå¯¦ä½œå…§å®¹</p></div></div><ArrowRight size={20} className="text-slate-400 group-hover/btn:text-white group-hover/btn:translate-x-1 transition-all"/>
                          </button>
                        ) : item.isFreeAirSim ? (<FACSimulation />) : item.isBCSim ? (<BCSimulation />) : item.isInterpretationSim ? (<InterpretationSimulation />) : item.isSimulation ? (<SeismicSimulation />) : item.isGravityPrinciples ? (
                            <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                              <div className="bg-white/5 p-4 rounded-xl border border-white/10"><div className="flex items-center gap-2 text-orange-400 mb-2 text-xs font-bold"><Sigma size={14}/> ç‰›é “è¬æœ‰å¼•åŠ› (NEWTON)</div><div className="text-lg text-white font-serif italic mb-2">F = G <MathFraction num="mâ‚mâ‚‚" den="rÂ²" /></div><p className="text-[10px] text-slate-400">è¬ç‰©çš†æœ‰å¼•åŠ›ï¼Œé‡åŠ›æ¢å‹˜çš„åŸºç¤ã€‚G ç‚ºè¬æœ‰å¼•åŠ›å¸¸æ•¸ã€‚</p></div>
                              <div className="bg-white/5 p-4 rounded-xl border border-white/10"><div className="flex items-center gap-2 text-orange-400 mb-2 text-xs font-bold"><Sigma size={14}/> ç†è«–é‡åŠ› (THEORETICAL)</div><div className="text-lg text-white font-serif italic mb-2">gâ‚œ â‰ˆ gâ‚‘(1 + 0.0053sinÂ²Ï†)</div><p className="text-[10px] text-slate-400">åœ°çƒéæ­£åœ“ï¼Œé‡åŠ›éš¨ç·¯åº¦Ï†å¢åŠ è€Œè®Šå¤§ (èµ¤é“æœ€å°ï¼Œå…©æ¥µæœ€å¤§)ã€‚</p></div>
                              <div className="bg-white/5 p-4 rounded-xl border border-white/10"><div className="flex items-center gap-2 text-orange-400 mb-2 text-xs font-bold"><Scale size={14}/> é‡åŠ›å–®ä½ (UNIT)</div><div className="text-lg text-white font-serif italic mb-2">1 mGal = 10â»Â³ Gal</div><p className="text-[10px] text-slate-400">Gal (cm/sÂ²)ã€‚åœ°è¡¨å¹³å‡é‡åŠ›ç´„ 980,000 mGalã€‚</p></div>
                            </div>
                        ) : item.isFACSection ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4"><FormulaBlock formula={{label: 'è‡ªç”±ç©ºé–“æ ¡æ­£ (FAC)', math: 'FAC = 0.3086 Ã— h', desc: 'æ¯ä¸Šå‡ 1m é‡åŠ›æ¸›å°‘ç´„ 0.3086 mGalã€‚å› ç‚ºæ˜¯è£œå„Ÿã€Œæå¤±ã€çš„é‡åŠ›ï¼Œæ‰€ä»¥ç¬¦è™Ÿç‚º (+)ã€‚'}} /><FormulaBlock formula={{label: 'è‡ªç”±ç©ºé–“ç•°å¸¸ (FAA)', math: 'Î”g_fa = g - gâ‚œ + FAC', desc: 'g: è§€æ¸¬é‡åŠ›, gt: ç†è«–é‡åŠ›(ç·¯åº¦ä¿®æ­£), FAC: é«˜åº¦ä¿®æ­£ã€‚'}} /></div>
                        ) : item.isBCSection ? (
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4"><FormulaBlock formula={{label: 'å¸ƒæ ¼æ ¡æ­£ (BC)', math: 'BC = 0.0419Ïh', desc: 'Ï ç‚ºå²©çŸ³å¯†åº¦ã€‚æˆ‘å€‘è¦æ‰£é™¤é€™å¡Šã€Œç„¡é™å¤§å¹³æ¿ã€çš„å¼•åŠ›ï¼Œæ‰€ä»¥ç¬¦è™Ÿç‚º (-)ã€‚'}} /><FormulaBlock formula={{label: 'å¸ƒæ ¼ç•°å¸¸ (Î”gB)', math: 'Î”gB = Î”g_fa - BC', desc: 'é€™æ˜¯ç¶“ç·¯åº¦ã€é«˜åº¦èˆ‡å²©å±¤è³ªé‡æ ¡æ­£å¾Œçš„æœ€çµ‚çµæœï¼Œç›´æ¥åæ˜ åœ°ä¸‹å¯†åº¦åˆ†ä½ˆã€‚'}} /></div>
                        ) : item.isCustomComp ? (<div className="w-full">{item.component}</div>) : item.isEmbed ? (
                            <div className="flex flex-col h-[600px] w-full"><div className="flex items-center justify-between mb-4"><h4 className="text-xl font-bold text-white flex items-center gap-3"><div className={`w-8 h-1 rounded-full bg-gradient-to-r ${activeTopic.color}`}></div>{item.title}</h4><a href={item.url} target="_blank" rel="noopener noreferrer" className="flex items-center gap-2 text-xs text-blue-400 hover:text-blue-300 transition-colors border border-blue-500/30 px-3 py-1.5 rounded-full hover:bg-blue-500/10">Open in New Tab <ExternalLink size={12} /></a></div><div className="flex-1 bg-white rounded-xl overflow-hidden border border-white/10 shadow-2xl relative group/embed"><iframe src={item.url} className="w-full h-full border-0" title={item.title} /><div className="absolute inset-0 bg-transparent pointer-events-none border-[6px] border-slate-800/50 rounded-xl"></div></div></div>
                        ) : item.isChartGroup ? (
                            <div className="flex flex-col gap-8"><h4 className="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-blue-300 via-purple-300 to-white mb-6 border-b border-white/10 pb-4 flex items-center gap-3"><Presentation size={28} className="text-purple-400" />{item.title}</h4><div className="grid grid-cols-1 gap-8">{item.charts.map((chart, cIdx) => (<div key={cIdx} className="bg-slate-900/60 rounded-2xl p-6 border border-white/10 shadow-xl hover:border-purple-500/30 transition-all group/chart"><div className="mb-4 flex items-center gap-3"><div className="w-8 h-8 rounded-full bg-purple-500/20 border border-purple-500/30 flex items-center justify-center text-purple-300 font-bold font-mono text-sm">{cIdx + 1}</div><h5 className="text-xl font-bold text-white group-hover/chart:text-purple-300 transition-colors">{chart.title}</h5></div><div className="rounded-xl overflow-hidden border border-white/10 shadow-lg mb-6 relative group/img"><div className="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover/img:opacity-100 transition-opacity z-10"></div><ImageDisplay src={chart.image} alt={chart.title} className="w-full h-auto object-cover transform group-hover/img:scale-105 transition-transform duration-700 ease-out" /></div><p className="text-slate-300 leading-relaxed text-sm whitespace-pre-line font-light pl-2 border-l-2 border-purple-500/30">{chart.text}</p></div>))}</div></div>
                        ) : item.isSyllabus ? (
                          /* Syllabus Render */
                          <div className="flex flex-col gap-8"><div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-slate-900/50 p-6 rounded-2xl border border-orange-500/30 shadow-lg"><div><h3 className="text-2xl font-black text-white mb-2">{item.title}</h3><p className="text-slate-400 text-sm">æ¢ç´¢åœ°çƒå¥§ç§˜ï¼ŒæŒæ¡è³‡æ–™ç§‘å­¸æŠ€èƒ½</p></div>{item.courseLink && (<a href={item.courseLink} target="_blank" rel="noopener noreferrer" className="flex items-center gap-2 px-5 py-2.5 bg-orange-500 hover:bg-orange-600 text-white rounded-full font-bold shadow-lg shadow-orange-500/20 transition-all hover:scale-105"><Link size={16} />èª²ç¨‹ä»‹ç´¹ç¶²ç«™</a>)}</div><div className="relative"><div className="absolute left-8 top-0 bottom-0 w-0.5 bg-gradient-to-b from-orange-500/50 via-blue-500/50 to-transparent"></div><div className="space-y-6">{item.schedule.map((week, wIdx) => (<div key={wIdx} className="relative pl-20 group/week"><div className="absolute left-3 top-0 w-10 h-10 bg-slate-800 rounded-full border-2 border-white/20 flex flex-col items-center justify-center z-10 group-hover/week:border-orange-400 group-hover/week:scale-110 transition-all shadow-lg"><span className="text-[8px] text-slate-400 uppercase leading-none">Week</span><span className="text-sm font-bold text-white leading-none">{week.week}</span></div><div className="absolute left-8 top-5 w-12 h-0.5 bg-white/10 group-hover/week:bg-orange-500/50 transition-colors"></div><div className="bg-slate-800/40 hover:bg-slate-800/60 rounded-xl p-5 border border-white/5 hover:border-white/20 transition-all duration-300"><div className="flex flex-col md:flex-row md:items-center justify-between gap-4 mb-4 pb-3 border-b border-white/5"><div className="flex items-center gap-3"><div className="px-2 py-1 rounded bg-white/5 text-xs font-mono text-slate-400 flex items-center gap-1"><Calendar size={12} /> {week.date}</div><h4 className="text-lg font-bold text-white group-hover/week:text-orange-300 transition-colors">{week.title}</h4></div><div className="flex gap-2">{week.tools && week.tools.map((icon, tIdx) => (<div key={tIdx} className="p-1.5 rounded-lg bg-black/30 text-slate-400 border border-white/5">{icon}</div>))}</div></div><div className="grid grid-cols-1 md:grid-cols-2 gap-4"><div className="flex flex-col gap-1"><span className="text-[10px] uppercase tracking-widest text-blue-400 font-bold flex items-center gap-1"><Globe size={10}/> åœ°çƒç‰©ç†çŸ¥è­˜</span><p className="text-sm text-slate-300 pl-3 border-l-2 border-blue-500/30">{week.knowledge}</p></div><div className="flex flex-col gap-1"><span className="text-[10px] uppercase tracking-widest text-orange-400 font-bold flex items-center gap-1"><Code size={10}/> è³‡æ–™è™•ç†æŠ€èƒ½</span><p className="text-sm text-slate-300 pl-3 border-l-2 border-orange-500/30">{week.skills}</p></div></div></div></div>))}</div></div></div>
                        ) : item.isSplitImage ? (
                          /* Split Image Render */
                          <div className="flex flex-col gap-8"><div className="border-b border-white/10 pb-6 mb-6"><h4 className="text-2xl font-bold text-white mb-2">{item.title}</h4><p className="text-slate-400 text-sm">å°‡å½±åƒåˆ†ç‚ºå·¦å³å…©å´ï¼Œè§€å¯Ÿæ¿å¡Šé‚„åŸå‰å¾Œï¼Œç£æ¥µè·¯å¾‘ç”±ã€Œåˆ†å²”ã€è½‰ç‚ºã€Œé‡åˆã€çš„éç¨‹ã€‚</p></div><div className="grid grid-cols-1 md:grid-cols-2 gap-6"><div className="group/split"><div className="rounded-xl overflow-hidden border border-white/10 h-64 relative mb-4 shadow-lg group-hover/split:border-blue-500/50 transition-colors bg-black/40"><ImageDisplay src={item.images ? item.images.left : item.image} alt="Image Left Part" className="w-full h-full" style={item.images ? { objectFit: 'contain' } : { objectFit: 'cover', objectPosition: 'left' }}/><div className="absolute top-2 left-2 px-2 py-1 bg-black/60 backdrop-blur border border-white/10 rounded text-[10px] font-bold text-white uppercase tracking-wider">{item.images ? 'Left View' : 'Before (Present)'}</div></div><div className="bg-slate-900/50 p-4 rounded-xl border border-white/5 group-hover/split:bg-slate-900/80 transition-colors"><h5 className="text-lg font-bold text-blue-300 mb-2">{item.sections[0].title}</h5><p className="text-sm text-slate-400 leading-relaxed whitespace-pre-line">{item.sections[0].desc}</p></div></div><div className="group/split"><div className="rounded-xl overflow-hidden border border-white/10 h-64 relative mb-4 shadow-lg group-hover/split:border-pink-500/50 transition-colors bg-black/40"><ImageDisplay src={item.images ? item.images.right : item.image} alt="Image Right Part" className="w-full h-full" style={item.images ? { objectFit: 'contain' } : { objectFit: 'cover', objectPosition: 'right' }}/><div className="absolute top-2 right-2 px-2 py-1 bg-black/60 backdrop-blur border border-white/10 rounded text-[10px] font-bold text-white uppercase tracking-wider">{item.images ? 'Right View' : 'After (Restored)'}</div></div><div className="bg-slate-900/50 p-4 rounded-xl border border-white/5 group-hover/split:bg-slate-900/80 transition-colors"><h5 className="text-lg font-bold text-pink-300 mb-2">{item.sections[1].title}</h5><p className="text-sm text-slate-400 leading-relaxed whitespace-pre-line">{item.sections[1].desc}</p></div></div></div></div>
                        ) : item.isKeyPoints ? (
                          /* Key Points Render */
                          <div className="flex flex-col gap-6"><h4 className="text-2xl font-bold text-white border-l-4 border-red-500 pl-4 mb-2">{item.title}</h4><div className="grid grid-cols-1 gap-4">{item.points.map((point, pIdx) => (<div key={pIdx} className="bg-slate-800/40 rounded-xl p-5 border border-white/5 hover:border-red-500/30 transition-all hover:translate-x-1 duration-300 group/point"><h5 className="text-lg font-bold text-white mb-2 group-hover/point:text-red-300 transition-colors flex items-center gap-2"><div className="w-1.5 h-1.5 rounded-full bg-red-500"></div>{point.title}</h5><p className="text-sm text-slate-400 leading-relaxed whitespace-pre-line pl-4 border-l border-white/5">{point.desc}</p></div>))}</div></div>
                        ) : item.isProject ? (
                          /* Project Render (Used for Lectures as well) */
                          <div className="flex flex-col gap-8">
                            <div className="border-b border-white/10 pb-6">
                              <div className="flex items-start justify-between flex-wrap gap-4">
                                <h3 className="text-2xl font-bold text-white mb-3 flex items-center gap-3">
                                   <div className={`p-2 rounded-lg bg-gradient-to-br ${activeTopic.color}`}>
                                     {idx === 0 ? <Terminal size={24} className="text-white" /> : <Monitor size={24} className="text-white" />}
                                   </div>
                                   {item.title}
                                </h3>
                                {item.linkTo && (<button onClick={(e) => { e.stopPropagation(); const target = topics.find(t => t.id === item.linkTo); if(target) handleTopicClick(target); }} className="flex items-center gap-2 px-4 py-2 rounded-full bg-blue-500/20 hover:bg-blue-500/40 border border-blue-500/30 text-blue-300 text-sm font-bold transition-all group/btn shadow-lg hover:shadow-blue-500/20"><Reply size={16} className="group-hover/btn:-scale-x-100 transition-transform"/>è¤‡ç¿’é‡åŠ›æ¢å‹˜æ¦‚å¿µ</button>)}
                              </div>
                              <p className="text-slate-400 leading-relaxed text-sm md:text-base mt-2">{item.intro}</p>
                            </div>
                            {item.steps && (<div className="grid grid-cols-1 md:grid-cols-2 gap-4">{item.steps.map((step, sIdx) => (<div key={sIdx} className={`bg-white/5 rounded-xl p-5 border border-white/5 hover:border-white/20 transition-all ${step.width === 'full' ? 'md:col-span-2' : ''}`}><h5 className="font-bold text-blue-300 mb-2 text-sm">{step.title}</h5><p className="text-xs text-slate-400 leading-relaxed whitespace-pre-line">{step.text}</p></div>))}</div>)}
                            {item.codeSnippet && (<div className="bg-slate-900 rounded-xl p-4 border border-white/10 font-mono text-xs text-blue-200 overflow-x-auto my-2 shadow-inner"><pre>{item.codeSnippet}</pre></div>)}
                            {item.questionImage && (<div className="bg-slate-900/50 rounded-xl p-6 border border-white/10"><h5 className="text-sm font-bold text-white mb-4 flex items-center gap-2 border-l-4 border-orange-500 pl-3">ä½œæ¥­é¡Œç›®èªªæ˜ (Problem Description)</h5><div className="rounded-lg overflow-hidden border border-white/5 shadow-lg max-w-4xl mx-auto mb-4"><ImageDisplay src={item.questionImage} alt="ä½œæ¥­é¡Œç›®" className="w-full h-auto object-contain bg-black/40" /></div><p className="text-sm text-slate-300 leading-relaxed">ä¸Šåœ–é¡¯ç¤ºäº†é‡åŠ›æ¸¬å‹˜çš„æ•¸æ“šè™•ç†æµç¨‹ã€‚å¾åŸå§‹çš„è§€æ¸¬é‡åŠ›å€¼ (g_obs) é–‹å§‹ï¼Œä¾åºæ‰£é™¤ç·¯åº¦é€ æˆçš„ç†è«–é‡åŠ› (g_the)ï¼Œé€²è¡Œé«˜åº¦ä¿®æ­£ (Free-air Correction) èˆ‡è³ªé‡ä¿®æ­£ (Bouguer Correction)ï¼Œæœ€çµ‚å¾—åˆ°èƒ½å¤ åæ˜ åœ°ä¸‹å¯†åº¦ç•°å¸¸çš„å¸ƒæ ¼é‡åŠ›ç•°å¸¸å€¼ (Î”g_B)ã€‚</p></div>)}
                            {item.gallery && (<div className="space-y-6">{item.gallery.map((imgItem, gIdx) => (<div key={gIdx} className="bg-black/20 rounded-xl p-4 border border-white/5"><div className="rounded-lg overflow-hidden border border-white/10 mb-3 group/img relative"><div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover/img:opacity-100 transition-opacity z-10"></div><ImageDisplay src={imgItem.image} alt={imgItem.title} className="w-full h-auto transform group-hover/img:scale-105 transition-transform duration-700 ease-out" /></div><div className="pl-2 border-l-2 border-blue-500/50"><h6 className="text-sm font-bold text-white mb-1">{imgItem.title}</h6>{imgItem.text && <p className="text-xs text-slate-400">{imgItem.text}</p>}</div></div>))}</div>)}
                            {item.embed && (<div className="flex flex-col h-[600px] w-full mt-4"><div className="flex items-center justify-between mb-3 px-1 border-b border-white/5 pb-2"><span className="text-sm font-bold text-slate-300 flex items-center gap-2"><Globe size={16} className="text-blue-400"/> {item.embed.title}</span><a href={item.embed.url} target="_blank" rel="noopener noreferrer" className="flex items-center gap-1 text-[10px] text-blue-400 hover:text-blue-300 transition-colors border border-blue-500/30 px-3 py-1.5 rounded-full hover:bg-blue-500/10">Open in New Tab <ExternalLink size={12} /></a></div><div className="flex-1 bg-white rounded-xl overflow-hidden border border-white/10 shadow-2xl relative group/embed"><iframe src={item.embed.url} title={item.embed.title} className="w-full h-full border-0" /><div className="absolute inset-0 bg-transparent pointer-events-none border-[4px] border-slate-800/50 rounded-xl"></div></div></div>)}
                          </div>
                        ) : (
                          /* Default Item Render */
                          <>
                            {item.title && <h4 className="text-xl font-bold text-white mb-4 flex items-center gap-3 group-hover/card:text-blue-200 transition-colors"><div className={`w-8 h-1 rounded-full bg-gradient-to-r ${activeTopic.color}`}></div>{item.title}</h4>}
                            {item.isFormula ? (<div className="grid grid-cols-1 md:grid-cols-2 gap-4">{item.formulas.map((formula, fIdx) => (<FormulaBlock key={fIdx} formula={formula} />))}</div>) : item.equipmentList ? (<div className="space-y-3">{item.equipmentList.map((eq) => (<div key={eq.id} className="flex items-start gap-3 p-3 rounded-xl bg-white/5 border border-white/10 transition-all"><div className="flex-shrink-0 w-6 h-6 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold text-orange-400 border border-white/10">{eq.id}</div><div><div className="text-sm font-bold text-slate-200 mb-1">{eq.name}</div><p className="text-xs text-slate-400 leading-relaxed">{eq.desc}</p></div></div>))}</div>) : item.isProcess ? (<div className="grid grid-cols-1 md:grid-cols-2 gap-6">{item.steps.map((step, sIdx) => (<div key={sIdx} className="flex flex-col gap-3 group/step"><div className="aspect-[4/3] rounded-xl overflow-hidden border border-white/10 shadow-lg relative"><ImageDisplay src={step.img} alt={step.title} className="w-full h-full object-cover transform group-hover/step:scale-110 transition-transform duration-700 ease-out" /><div className="absolute top-3 left-3 w-8 h-8 rounded-full bg-blue-500 text-white font-bold flex items-center justify-center shadow-lg z-10 border border-white/20 backdrop-blur-sm">{sIdx + 1}</div><div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-60"></div></div><div><h5 className="text-lg font-bold text-white mb-1 group-hover/step:text-blue-300 transition-colors">{step.title}</h5><p className="text-sm text-slate-400 leading-relaxed font-light">{step.desc}</p></div></div>))}</div>) : item.isDerivationImages ? (<div className="grid grid-cols-1 md:grid-cols-2 gap-4">{item.images.map((imgSrc, iIdx) => (<div key={iIdx} className="relative rounded-xl overflow-hidden border border-white/10 shadow-lg group/img"><div className="absolute top-2 left-2 px-2 py-0.5 rounded bg-black/50 text-[10px] text-white/70 font-mono z-10">Note {iIdx+1}</div><ImageDisplay src={imgSrc} alt={`Derivation Note ${iIdx+1}`} className="w-full h-auto object-cover hover:scale-105 transition-transform duration-500" /></div>))}</div>) : item.isDerivation ? (<div className="flex flex-col gap-6"><div className="space-y-4">{item.steps.map((step, sIdx) => (<div key={sIdx} className="flex gap-4 p-4 rounded-xl bg-slate-900/40 border border-white/5 hover:border-pink-500/30 transition-all group/step"><div className="flex-shrink-0 w-10 h-10 rounded-full bg-slate-800 border border-white/10 flex items-center justify-center text-sm font-bold font-mono text-pink-400 group-hover/step:bg-pink-500 group-hover/step:text-white transition-all shadow-[0_0_15px_rgba(236,72,153,0.1)] group-hover/step:shadow-[0_0_20px_rgba(236,72,153,0.4)]">{step.step}</div><div className="flex-1"><h5 className="text-base font-bold text-white mb-2 group-hover/step:text-pink-200 transition-colors">{step.title}</h5><p className="text-sm text-slate-400 mb-3 leading-relaxed">{step.desc}</p><div className="bg-black/30 rounded-lg p-3 border border-white/5 font-serif text-slate-200 group-hover/step:border-white/10 transition-colors">{step.math}</div></div></div>))}</div></div>) : item.isResult ? (<div className="grid grid-cols-1 lg:grid-cols-12 gap-8 mt-4"><div className="lg:col-span-7 flex flex-col gap-4"><div className="relative rounded-3xl overflow-hidden border-4 border-white/10 shadow-2xl group/chart bg-white/5 p-2"><div className="absolute inset-0 bg-gradient-to-t from-slate-900/80 via-transparent to-transparent opacity-60 z-10"></div><div className="overflow-hidden relative rounded-xl"><ImageDisplay src={item.image} alt="å¯¦é©—æ‰‹å¯«æ•¸æ“š" className="w-full h-full object-cover transform group-hover/chart:scale-105 transition-transform duration-700 ease-out" /></div><div className="absolute top-4 left-4 px-3 py-1 rounded-full bg-black/50 backdrop-blur-md border border-white/10 text-[10px] font-mono text-blue-300 tracking-widest z-20 flex items-center gap-2"><Camera size={12} /> RAW DATA</div><div className="absolute bottom-0 left-0 right-0 p-6 z-20"><p className="text-slate-200 text-base font-light leading-relaxed drop-shadow-md">{item.text}</p></div></div></div><div className="lg:col-span-5 flex flex-col gap-4"><div className="bg-slate-800/40 backdrop-blur-xl rounded-2xl p-5 border border-white/10 relative overflow-hidden"><div className={`absolute -top-10 -right-10 w-32 h-32 bg-gradient-to-br ${activeTopic.color} blur-[60px] opacity-20`}></div><h5 className="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2 relative z-10"><Activity size={14} className="text-blue-400" /> Calculation Results</h5><div className="grid grid-cols-2 gap-3 relative z-10"><div className="p-3 rounded-xl bg-white/5 border border-white/5 flex flex-col justify-center"><span className="text-[10px] text-slate-400 uppercase mb-1">Layer 1 Velocity</span><span className="text-xl font-bold text-white font-mono">{item.stats.v1}</span></div><div className="p-3 rounded-xl bg-white/5 border border-white/5 flex flex-col justify-center"><span className="text-[10px] text-slate-400 uppercase mb-1">Layer 2 Velocity</span><span className="text-xl font-bold text-emerald-400 font-mono">{item.stats.v2}</span></div><div className="col-span-2 p-3 rounded-xl bg-gradient-to-r from-orange-500/10 to-transparent border border-orange-500/20 flex items-center justify-between"><span className="text-xs text-orange-300 font-bold uppercase pl-1">Calculated Depth (h)</span><span className="text-2xl font-bold text-orange-400 font-mono">{item.stats.h}</span></div></div></div><div className="bg-slate-900/40 rounded-2xl p-5 border border-white/5 flex-1"><h5 className="text-xs font-bold text-slate-500 uppercase tracking-widest mb-4 pl-1">Derivation Process</h5><div className="space-y-0 relative"><div className="absolute left-[19px] top-2 bottom-4 w-[1px] bg-white/10"></div>{item.derivationSteps.map((step, dIdx) => (<div key={dIdx} className="relative flex gap-4 pb-6 last:pb-0 group/step"><div className="relative z-10 flex-shrink-0 w-10 h-10 rounded-full bg-slate-800 border border-white/10 flex items-center justify-center text-xs font-mono text-slate-400 group-hover/step:text-white group-hover/step:border-blue-500 group-hover/step:bg-blue-500/20 transition-all">{step.step}</div><div className="pt-1"><h6 className="text-sm font-bold text-slate-300 group-hover/step:text-blue-200 transition-colors mb-1">{step.title}</h6><p className="text-xs text-slate-500 leading-relaxed group-hover/step:text-slate-400 transition-colors">{step.desc}</p></div></div>))}</div></div></div></div>) : (
                            /* Simple Text Image Render */
                            <div className="flex flex-col h-full">{item.image && (<div className="rounded-xl overflow-hidden border border-white/10 shadow-lg group/img relative mb-4 flex-1"><div className="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-0 group-hover/img:opacity-100 transition-opacity z-10"></div><ImageDisplay src={item.image} alt={item.title} className="w-full h-full object-cover hover:scale-105 transition-transform duration-700" /></div>)}<p className="text-slate-400 leading-relaxed whitespace-pre-line text-sm font-light">{item.text}</p></div>
                          )}
                          </>
                        )}
                      </div>
                    ))}
                  </div>
                </div>
              </>
            )}
          </div>
        )}
      </div>
    </div>
  );
}
        // ===========================================

        // è²¼ä¸Šç¨‹å¼ç¢¼æ™‚ï¼Œè«‹æ³¨æ„ï¼š
        // 1. æ‰¾åˆ°åŸæœ¬ç¨‹å¼ç¢¼æœ€ä¸‹æ–¹çš„ "export default function App() { ... }"
        // 2. å°‡ "export default function App" æ”¹æˆ "function App" (æŠŠ export default åˆªæ‰)
        // 3. ç¢ºä¿è²¼åœ¨é€™é‚Š
        
        // ç¯„ä¾‹ (è«‹æ›¿æ›æˆä½ çš„çœŸå¯¦ç¨‹å¼ç¢¼):
        /* const MathFraction = ({ num, den }) => ( ... );
        
        // ... (ä¸­é–“å¹¾åƒè¡Œ) ...

        function App() {  // <--- æ³¨æ„é€™è£¡æ²’æœ‰ export default
           // ...
        }
        */


        // ===========================================
        //  è«‹åœ¨è²¼ä¸Šç¨‹å¼ç¢¼çš„ã€Œæœ€å¾Œé¢ã€ï¼Œè£œä¸Šé€™ä¸‰è¡Œä¾†å•Ÿå‹• React
        // ===========================================
        
        // é€™ä¸€è¡Œè«‹æ‰‹å‹•åŠ åœ¨æœ€ä¸‹é¢ï¼š
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>
</html>